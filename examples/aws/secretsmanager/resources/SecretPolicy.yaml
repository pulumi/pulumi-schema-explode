$token: aws:secretsmanager/secretPolicy:SecretPolicy
properties:
  blockPublicPolicy:
    type: boolean
    description: |
      Makes an optional API call to Zelkova to validate the Resource Policy to prevent broad access to your secret.
  policy:
    type: string
    description: |
      Valid JSON document representing a [resource policy](https://docs.aws.amazon.com/secretsmanager/latest/userguide/auth-and-access_resource-based-policies.html). Unlike `aws.secretsmanager.Secret`, where `policy` can be set to `"{}"` to delete the policy, `"{}"` is not a valid policy since `policy` is required.
  secretArn:
    type: string
    description: |
      Secret ARN.
required:
  - policy
  - secretArn
inputProperties:
  blockPublicPolicy:
    type: boolean
    description: |
      Makes an optional API call to Zelkova to validate the Resource Policy to prevent broad access to your secret.
  policy:
    type: string
    description: |
      Valid JSON document representing a [resource policy](https://docs.aws.amazon.com/secretsmanager/latest/userguide/auth-and-access_resource-based-policies.html). Unlike `aws.secretsmanager.Secret`, where `policy` can be set to `"{}"` to delete the policy, `"{}"` is not a valid policy since `policy` is required.
  secretArn:
    type: string
    description: |
      Secret ARN.
    willReplaceOnChanges: true
requiredInputs:
  - policy
  - secretArn
stateInputs:
  description: |
    Input properties used for looking up and filtering SecretPolicy resources.
  properties:
    blockPublicPolicy:
      type: boolean
      description: |
        Makes an optional API call to Zelkova to validate the Resource Policy to prevent broad access to your secret.
    policy:
      type: string
      description: |
        Valid JSON document representing a [resource policy](https://docs.aws.amazon.com/secretsmanager/latest/userguide/auth-and-access_resource-based-policies.html). Unlike `aws.secretsmanager.Secret`, where `policy` can be set to `"{}"` to delete the policy, `"{}"` is not a valid policy since `policy` is required.
    secretArn:
      type: string
      description: |
        Secret ARN.
      willReplaceOnChanges: true
  type: object
