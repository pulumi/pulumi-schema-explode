$token: aws:docdb/clusterInstance:ClusterInstance
properties:
  applyImmediately:
    type: boolean
    description: |
      Specifies whether any database modifications
      are applied immediately, or during the next maintenance window. Default is`false`.
  arn:
    type: string
    description: |
      Amazon Resource Name (ARN) of cluster instance
  autoMinorVersionUpgrade:
    type: boolean
    description: |
      Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window. Default `true`.
  availabilityZone:
    type: string
    description: |
      The EC2 Availability Zone that the DB instance is created in. See [docs](https://docs.aws.amazon.com/documentdb/latest/developerguide/API_CreateDBInstance.html) about the details.
  caCertIdentifier:
    type: string
    description: |
      (Optional) The identifier of the CA certificate for the DB instance.
  clusterIdentifier:
    type: string
    description: |
      The identifier of the `aws.docdb.Cluster` in which to launch this instance.
  dbSubnetGroupName:
    type: string
    description: |
      The DB subnet group to associate with this DB instance.
  dbiResourceId:
    type: string
    description: |
      The region-unique, immutable identifier for the DB instance.
  endpoint:
    type: string
    description: |
      The DNS address for this instance. May not be writable
  engine:
    type: string
    description: |
      The name of the database engine to be used for the DocDB instance. Defaults to `docdb`. Valid Values: `docdb`.
  engineVersion:
    type: string
    description: |
      The database engine version
  identifier:
    type: string
    description: |
      The identifier for the DocDB instance, if omitted, this provider will assign a random, unique identifier.
  identifierPrefix:
    type: string
    description: |
      Creates a unique identifier beginning with the specified prefix. Conflicts with `identifier`.
  instanceClass:
    type: string
    description: |
      The instance class to use. For details on CPU and memory, see [Scaling for DocDB Instances](https://docs.aws.amazon.com/documentdb/latest/developerguide/db-cluster-manage-performance.html#db-cluster-manage-scaling-instance). DocDB currently
      supports the below instance classes. Please see [AWS Documentation](https://docs.aws.amazon.com/documentdb/latest/developerguide/db-instance-classes.html#db-instance-class-specs) for complete details.
      - db.r5.large
      - db.r5.xlarge
      - db.r5.2xlarge
      - db.r5.4xlarge
      - db.r5.12xlarge
      - db.r5.24xlarge
      - db.r4.large
      - db.r4.xlarge
      - db.r4.2xlarge
      - db.r4.4xlarge
      - db.r4.8xlarge
      - db.r4.16xlarge
      - db.t3.medium
  kmsKeyId:
    type: string
    description: |
      The ARN for the KMS encryption key if one is set to the cluster.
  port:
    type: integer
    description: |
      The database port
  preferredBackupWindow:
    type: string
    description: |
      The daily time range during which automated backups are created if automated backups are enabled.
  preferredMaintenanceWindow:
    type: string
    description: |
      The window to perform maintenance in.
      Syntax: "ddd:hh24:mi-ddd:hh24:mi". Eg: "Mon:00:00-Mon:03:00".
  promotionTier:
    type: integer
    description: |
      Default 0. Failover Priority setting on instance level. The reader who has lower tier has higher priority to get promoter to writer.
  publiclyAccessible:
    type: boolean
  storageEncrypted:
    type: boolean
    description: |
      Specifies whether the DB cluster is encrypted.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the instance. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  writer:
    type: boolean
    description: |
      Boolean indicating if this instance is writable. `False` indicates this instance is a read replica.
required:
  - applyImmediately
  - arn
  - availabilityZone
  - caCertIdentifier
  - clusterIdentifier
  - dbSubnetGroupName
  - dbiResourceId
  - endpoint
  - engineVersion
  - identifier
  - identifierPrefix
  - instanceClass
  - kmsKeyId
  - port
  - preferredBackupWindow
  - preferredMaintenanceWindow
  - publiclyAccessible
  - storageEncrypted
  - tagsAll
  - writer
inputProperties:
  applyImmediately:
    type: boolean
    description: |
      Specifies whether any database modifications
      are applied immediately, or during the next maintenance window. Default is`false`.
  autoMinorVersionUpgrade:
    type: boolean
    description: |
      Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window. Default `true`.
  availabilityZone:
    type: string
    description: |
      The EC2 Availability Zone that the DB instance is created in. See [docs](https://docs.aws.amazon.com/documentdb/latest/developerguide/API_CreateDBInstance.html) about the details.
    willReplaceOnChanges: true
  caCertIdentifier:
    type: string
    description: |
      (Optional) The identifier of the CA certificate for the DB instance.
  clusterIdentifier:
    type: string
    description: |
      The identifier of the `aws.docdb.Cluster` in which to launch this instance.
    willReplaceOnChanges: true
  engine:
    type: string
    description: |
      The name of the database engine to be used for the DocDB instance. Defaults to `docdb`. Valid Values: `docdb`.
    willReplaceOnChanges: true
  identifier:
    type: string
    description: |
      The identifier for the DocDB instance, if omitted, this provider will assign a random, unique identifier.
    willReplaceOnChanges: true
  identifierPrefix:
    type: string
    description: |
      Creates a unique identifier beginning with the specified prefix. Conflicts with `identifier`.
    willReplaceOnChanges: true
  instanceClass:
    type: string
    description: |
      The instance class to use. For details on CPU and memory, see [Scaling for DocDB Instances](https://docs.aws.amazon.com/documentdb/latest/developerguide/db-cluster-manage-performance.html#db-cluster-manage-scaling-instance). DocDB currently
      supports the below instance classes. Please see [AWS Documentation](https://docs.aws.amazon.com/documentdb/latest/developerguide/db-instance-classes.html#db-instance-class-specs) for complete details.
      - db.r5.large
      - db.r5.xlarge
      - db.r5.2xlarge
      - db.r5.4xlarge
      - db.r5.12xlarge
      - db.r5.24xlarge
      - db.r4.large
      - db.r4.xlarge
      - db.r4.2xlarge
      - db.r4.4xlarge
      - db.r4.8xlarge
      - db.r4.16xlarge
      - db.t3.medium
  preferredMaintenanceWindow:
    type: string
    description: |
      The window to perform maintenance in.
      Syntax: "ddd:hh24:mi-ddd:hh24:mi". Eg: "Mon:00:00-Mon:03:00".
  promotionTier:
    type: integer
    description: |
      Default 0. Failover Priority setting on instance level. The reader who has lower tier has higher priority to get promoter to writer.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the instance. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
requiredInputs:
  - clusterIdentifier
  - instanceClass
stateInputs:
  description: |
    Input properties used for looking up and filtering ClusterInstance resources.
  properties:
    applyImmediately:
      type: boolean
      description: |
        Specifies whether any database modifications
        are applied immediately, or during the next maintenance window. Default is`false`.
    arn:
      type: string
      description: |
        Amazon Resource Name (ARN) of cluster instance
    autoMinorVersionUpgrade:
      type: boolean
      description: |
        Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window. Default `true`.
    availabilityZone:
      type: string
      description: |
        The EC2 Availability Zone that the DB instance is created in. See [docs](https://docs.aws.amazon.com/documentdb/latest/developerguide/API_CreateDBInstance.html) about the details.
      willReplaceOnChanges: true
    caCertIdentifier:
      type: string
      description: |
        (Optional) The identifier of the CA certificate for the DB instance.
    clusterIdentifier:
      type: string
      description: |
        The identifier of the `aws.docdb.Cluster` in which to launch this instance.
      willReplaceOnChanges: true
    dbSubnetGroupName:
      type: string
      description: |
        The DB subnet group to associate with this DB instance.
    dbiResourceId:
      type: string
      description: |
        The region-unique, immutable identifier for the DB instance.
    endpoint:
      type: string
      description: |
        The DNS address for this instance. May not be writable
    engine:
      type: string
      description: |
        The name of the database engine to be used for the DocDB instance. Defaults to `docdb`. Valid Values: `docdb`.
      willReplaceOnChanges: true
    engineVersion:
      type: string
      description: |
        The database engine version
    identifier:
      type: string
      description: |
        The identifier for the DocDB instance, if omitted, this provider will assign a random, unique identifier.
      willReplaceOnChanges: true
    identifierPrefix:
      type: string
      description: |
        Creates a unique identifier beginning with the specified prefix. Conflicts with `identifier`.
      willReplaceOnChanges: true
    instanceClass:
      type: string
      description: |
        The instance class to use. For details on CPU and memory, see [Scaling for DocDB Instances](https://docs.aws.amazon.com/documentdb/latest/developerguide/db-cluster-manage-performance.html#db-cluster-manage-scaling-instance). DocDB currently
        supports the below instance classes. Please see [AWS Documentation](https://docs.aws.amazon.com/documentdb/latest/developerguide/db-instance-classes.html#db-instance-class-specs) for complete details.
        - db.r5.large
        - db.r5.xlarge
        - db.r5.2xlarge
        - db.r5.4xlarge
        - db.r5.12xlarge
        - db.r5.24xlarge
        - db.r4.large
        - db.r4.xlarge
        - db.r4.2xlarge
        - db.r4.4xlarge
        - db.r4.8xlarge
        - db.r4.16xlarge
        - db.t3.medium
    kmsKeyId:
      type: string
      description: |
        The ARN for the KMS encryption key if one is set to the cluster.
    port:
      type: integer
      description: |
        The database port
    preferredBackupWindow:
      type: string
      description: |
        The daily time range during which automated backups are created if automated backups are enabled.
    preferredMaintenanceWindow:
      type: string
      description: |
        The window to perform maintenance in.
        Syntax: "ddd:hh24:mi-ddd:hh24:mi". Eg: "Mon:00:00-Mon:03:00".
    promotionTier:
      type: integer
      description: |
        Default 0. Failover Priority setting on instance level. The reader who has lower tier has higher priority to get promoter to writer.
    publiclyAccessible:
      type: boolean
    storageEncrypted:
      type: boolean
      description: |
        Specifies whether the DB cluster is encrypted.
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags to assign to the instance. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
    writer:
      type: boolean
      description: |
        Boolean indicating if this instance is writable. `False` indicates this instance is a read replica.
  type: object
