$token: aws:emr/instanceFleet:InstanceFleet
properties:
  clusterId:
    type: string
    description: |
      ID of the EMR Cluster to attach to. Changing this forces a new resource to be created.
  instanceTypeConfigs:
    type: array
    items:
      $ref: "#/types/aws:emr/InstanceFleetInstanceTypeConfig:InstanceFleetInstanceTypeConfig"
    description: |
      Configuration block for instance fleet
  launchSpecifications:
    $ref: "#/types/aws:emr/InstanceFleetLaunchSpecifications:InstanceFleetLaunchSpecifications"
    description: |
      Configuration block for launch specification
  name:
    type: string
    description: |
      Friendly name given to the instance fleet.
  provisionedOnDemandCapacity:
    type: integer
  provisionedSpotCapacity:
    type: integer
  targetOnDemandCapacity:
    type: integer
    description: |
      The target capacity of On-Demand units for the instance fleet, which determines how many On-Demand instances to provision.
  targetSpotCapacity:
    type: integer
    description: |
      The target capacity of Spot units for the instance fleet, which determines how many Spot instances to provision.
required:
  - clusterId
  - name
  - provisionedOnDemandCapacity
  - provisionedSpotCapacity
inputProperties:
  clusterId:
    type: string
    description: |
      ID of the EMR Cluster to attach to. Changing this forces a new resource to be created.
    willReplaceOnChanges: true
  instanceTypeConfigs:
    type: array
    items:
      $ref: "#/types/aws:emr/InstanceFleetInstanceTypeConfig:InstanceFleetInstanceTypeConfig"
    description: |
      Configuration block for instance fleet
    willReplaceOnChanges: true
  launchSpecifications:
    $ref: "#/types/aws:emr/InstanceFleetLaunchSpecifications:InstanceFleetLaunchSpecifications"
    description: |
      Configuration block for launch specification
    willReplaceOnChanges: true
  name:
    type: string
    description: |
      Friendly name given to the instance fleet.
    willReplaceOnChanges: true
  targetOnDemandCapacity:
    type: integer
    description: |
      The target capacity of On-Demand units for the instance fleet, which determines how many On-Demand instances to provision.
  targetSpotCapacity:
    type: integer
    description: |
      The target capacity of Spot units for the instance fleet, which determines how many Spot instances to provision.
requiredInputs:
  - clusterId
stateInputs:
  description: |
    Input properties used for looking up and filtering InstanceFleet resources.
  properties:
    clusterId:
      type: string
      description: |
        ID of the EMR Cluster to attach to. Changing this forces a new resource to be created.
      willReplaceOnChanges: true
    instanceTypeConfigs:
      type: array
      items:
        $ref: "#/types/aws:emr/InstanceFleetInstanceTypeConfig:InstanceFleetInstanceTypeConfig"
      description: |
        Configuration block for instance fleet
      willReplaceOnChanges: true
    launchSpecifications:
      $ref: "#/types/aws:emr/InstanceFleetLaunchSpecifications:InstanceFleetLaunchSpecifications"
      description: |
        Configuration block for launch specification
      willReplaceOnChanges: true
    name:
      type: string
      description: |
        Friendly name given to the instance fleet.
      willReplaceOnChanges: true
    provisionedOnDemandCapacity:
      type: integer
    provisionedSpotCapacity:
      type: integer
    targetOnDemandCapacity:
      type: integer
      description: |
        The target capacity of On-Demand units for the instance fleet, which determines how many On-Demand instances to provision.
    targetSpotCapacity:
      type: integer
      description: |
        The target capacity of Spot units for the instance fleet, which determines how many Spot instances to provision.
  type: object
