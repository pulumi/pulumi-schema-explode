$token: aws:emr/cluster:Cluster
properties:
  additionalInfo:
    type: string
  applications:
    type: array
    items:
      type: string
    description: |
      A case-insensitive list of applications for Amazon EMR to install and configure when launching the cluster. For a list of applications available for each Amazon EMR release version, see the [Amazon EMR Release Guide](https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-release-components.html).
  arn:
    type: string
  autoTerminationPolicy:
    $ref: "#/types/aws:emr/ClusterAutoTerminationPolicy:ClusterAutoTerminationPolicy"
    description: |
      An auto-termination policy for an Amazon EMR cluster. An auto-termination policy defines the amount of idle time in seconds after which a cluster automatically terminates. See Auto Termination Policy Below.
  autoscalingRole:
    type: string
    description: |
      IAM role for automatic scaling policies. The IAM role provides permissions that the automatic scaling feature requires to launch and terminate EC2 instances in an instance group.
  bootstrapActions:
    type: array
    items:
      $ref: "#/types/aws:emr/ClusterBootstrapAction:ClusterBootstrapAction"
    description: |
      Ordered list of bootstrap actions that will be run before Hadoop is started on the cluster nodes. See below.
  clusterState:
    type: string
    language:
      csharp:
        name: State
  configurations:
    type: string
    description: |
      Configuration classification that applies when provisioning cluster instances, which can include configurations for applications and software that run on the cluster. List of `configuration` blocks.
  configurationsJson:
    type: string
    description: |
      JSON string for supplying list of configurations for the EMR cluster.
  coreInstanceFleet:
    $ref: "#/types/aws:emr/ClusterCoreInstanceFleet:ClusterCoreInstanceFleet"
    description: |
      Configuration block to use an [Instance Fleet](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-fleet.html) for the core node type. Cannot be specified if any `core_instance_group` configuration blocks are set. Detailed below.
  coreInstanceGroup:
    $ref: "#/types/aws:emr/ClusterCoreInstanceGroup:ClusterCoreInstanceGroup"
    description: |
      Configuration block to use an [Instance Group](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-group-configuration.html#emr-plan-instance-groups) for the [core node type](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-master-core-task-nodes.html#emr-plan-core).
  customAmiId:
    type: string
    description: |
      Custom Amazon Linux AMI for the cluster (instead of an EMR-owned AMI). Available in Amazon EMR version 5.7.0 and later.
  ebsRootVolumeSize:
    type: integer
    description: |
      Size in GiB of the EBS root device volume of the Linux AMI that is used for each EC2 instance. Available in Amazon EMR version 4.x and later.
  ec2Attributes:
    $ref: "#/types/aws:emr/ClusterEc2Attributes:ClusterEc2Attributes"
    description: |
      Attributes for the EC2 instances running the job flow. See below.
  keepJobFlowAliveWhenNoSteps:
    type: boolean
    description: |
      Switch on/off run cluster with no steps or when all steps are complete (default is on)
  kerberosAttributes:
    $ref: "#/types/aws:emr/ClusterKerberosAttributes:ClusterKerberosAttributes"
    description: |
      Kerberos configuration for the cluster. See below.
  listStepsStates:
    type: array
    items:
      type: string
    description: |
      List of [step states](https://docs.aws.amazon.com/emr/latest/APIReference/API_StepStatus.html) used to filter returned steps
  logEncryptionKmsKeyId:
    type: string
    description: |
      AWS KMS customer master key (CMK) key ID or arn used for encrypting log files. This attribute is only available with EMR version 5.30.0 and later, excluding EMR 6.0.0.
  logUri:
    type: string
    description: |
      S3 bucket to write the log files of the job flow. If a value is not provided, logs are not created.
  masterInstanceFleet:
    $ref: "#/types/aws:emr/ClusterMasterInstanceFleet:ClusterMasterInstanceFleet"
    description: |
      Configuration block to use an [Instance Fleet](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-fleet.html) for the master node type. Cannot be specified if any `master_instance_group` configuration blocks are set. Detailed below.
  masterInstanceGroup:
    $ref: "#/types/aws:emr/ClusterMasterInstanceGroup:ClusterMasterInstanceGroup"
    description: |
      Configuration block to use an [Instance Group](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-group-configuration.html#emr-plan-instance-groups) for the [master node type](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-master-core-task-nodes.html#emr-plan-master).
  masterPublicDns:
    type: string
    description: |
      The DNS name of the master node. If the cluster is on a private subnet, this is the private DNS name. On a public subnet, this is the public DNS name.
  name:
    type: string
    description: |
      Name of the step.
  releaseLabel:
    type: string
    description: |
      Release label for the Amazon EMR release.
  scaleDownBehavior:
    type: string
    description: |
      Way that individual Amazon EC2 instances terminate when an automatic scale-in activity occurs or an `instance group` is resized.
  securityConfiguration:
    type: string
    description: |
      Security configuration name to attach to the EMR cluster. Only valid for EMR clusters with `release_label` 4.8.0 or greater.
  serviceRole:
    type: string
    description: |
      IAM role that will be assumed by the Amazon EMR service to access AWS resources.
  stepConcurrencyLevel:
    type: integer
    description: |
      Number of steps that can be executed concurrently. You can specify a maximum of 256 steps. Only valid for EMR clusters with `release_label` 5.28.0 or greater (default is 1).
  steps:
    type: array
    items:
      $ref: "#/types/aws:emr/ClusterStep:ClusterStep"
    description: |
      List of steps to run when creating the cluster. See below. It is highly recommended to utilize the lifecycle resource options block with `ignoreChanges` if other steps are being managed outside of this provider.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      list of tags to apply to the EMR Cluster. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  terminationProtection:
    type: boolean
    description: |
      Switch on/off termination protection (default is `false`, except when using multiple master nodes). Before attempting to destroy the resource when termination protection is enabled, this configuration must be applied with its value set to `false`.
  visibleToAllUsers:
    type: boolean
    description: |
      Whether the job flow is visible to all IAM users of the AWS account associated with the job flow. Default value is `true`.
required:
  - arn
  - clusterState
  - coreInstanceFleet
  - coreInstanceGroup
  - keepJobFlowAliveWhenNoSteps
  - masterInstanceFleet
  - masterInstanceGroup
  - masterPublicDns
  - name
  - releaseLabel
  - scaleDownBehavior
  - serviceRole
  - steps
  - tagsAll
  - terminationProtection
inputProperties:
  additionalInfo:
    type: string
    willReplaceOnChanges: true
  applications:
    type: array
    items:
      type: string
    description: |
      A case-insensitive list of applications for Amazon EMR to install and configure when launching the cluster. For a list of applications available for each Amazon EMR release version, see the [Amazon EMR Release Guide](https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-release-components.html).
    willReplaceOnChanges: true
  autoTerminationPolicy:
    $ref: "#/types/aws:emr/ClusterAutoTerminationPolicy:ClusterAutoTerminationPolicy"
    description: |
      An auto-termination policy for an Amazon EMR cluster. An auto-termination policy defines the amount of idle time in seconds after which a cluster automatically terminates. See Auto Termination Policy Below.
  autoscalingRole:
    type: string
    description: |
      IAM role for automatic scaling policies. The IAM role provides permissions that the automatic scaling feature requires to launch and terminate EC2 instances in an instance group.
    willReplaceOnChanges: true
  bootstrapActions:
    type: array
    items:
      $ref: "#/types/aws:emr/ClusterBootstrapAction:ClusterBootstrapAction"
    description: |
      Ordered list of bootstrap actions that will be run before Hadoop is started on the cluster nodes. See below.
    willReplaceOnChanges: true
  configurations:
    type: string
    description: |
      Configuration classification that applies when provisioning cluster instances, which can include configurations for applications and software that run on the cluster. List of `configuration` blocks.
    willReplaceOnChanges: true
  configurationsJson:
    type: string
    description: |
      JSON string for supplying list of configurations for the EMR cluster.
    willReplaceOnChanges: true
  coreInstanceFleet:
    $ref: "#/types/aws:emr/ClusterCoreInstanceFleet:ClusterCoreInstanceFleet"
    description: |
      Configuration block to use an [Instance Fleet](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-fleet.html) for the core node type. Cannot be specified if any `core_instance_group` configuration blocks are set. Detailed below.
    willReplaceOnChanges: true
  coreInstanceGroup:
    $ref: "#/types/aws:emr/ClusterCoreInstanceGroup:ClusterCoreInstanceGroup"
    description: |
      Configuration block to use an [Instance Group](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-group-configuration.html#emr-plan-instance-groups) for the [core node type](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-master-core-task-nodes.html#emr-plan-core).
    willReplaceOnChanges: true
  customAmiId:
    type: string
    description: |
      Custom Amazon Linux AMI for the cluster (instead of an EMR-owned AMI). Available in Amazon EMR version 5.7.0 and later.
    willReplaceOnChanges: true
  ebsRootVolumeSize:
    type: integer
    description: |
      Size in GiB of the EBS root device volume of the Linux AMI that is used for each EC2 instance. Available in Amazon EMR version 4.x and later.
    willReplaceOnChanges: true
  ec2Attributes:
    $ref: "#/types/aws:emr/ClusterEc2Attributes:ClusterEc2Attributes"
    description: |
      Attributes for the EC2 instances running the job flow. See below.
    willReplaceOnChanges: true
  keepJobFlowAliveWhenNoSteps:
    type: boolean
    description: |
      Switch on/off run cluster with no steps or when all steps are complete (default is on)
    willReplaceOnChanges: true
  kerberosAttributes:
    $ref: "#/types/aws:emr/ClusterKerberosAttributes:ClusterKerberosAttributes"
    description: |
      Kerberos configuration for the cluster. See below.
    willReplaceOnChanges: true
  listStepsStates:
    type: array
    items:
      type: string
    description: |
      List of [step states](https://docs.aws.amazon.com/emr/latest/APIReference/API_StepStatus.html) used to filter returned steps
  logEncryptionKmsKeyId:
    type: string
    description: |
      AWS KMS customer master key (CMK) key ID or arn used for encrypting log files. This attribute is only available with EMR version 5.30.0 and later, excluding EMR 6.0.0.
    willReplaceOnChanges: true
  logUri:
    type: string
    description: |
      S3 bucket to write the log files of the job flow. If a value is not provided, logs are not created.
    willReplaceOnChanges: true
  masterInstanceFleet:
    $ref: "#/types/aws:emr/ClusterMasterInstanceFleet:ClusterMasterInstanceFleet"
    description: |
      Configuration block to use an [Instance Fleet](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-fleet.html) for the master node type. Cannot be specified if any `master_instance_group` configuration blocks are set. Detailed below.
    willReplaceOnChanges: true
  masterInstanceGroup:
    $ref: "#/types/aws:emr/ClusterMasterInstanceGroup:ClusterMasterInstanceGroup"
    description: |
      Configuration block to use an [Instance Group](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-group-configuration.html#emr-plan-instance-groups) for the [master node type](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-master-core-task-nodes.html#emr-plan-master).
    willReplaceOnChanges: true
  name:
    type: string
    description: |
      Name of the step.
    willReplaceOnChanges: true
  releaseLabel:
    type: string
    description: |
      Release label for the Amazon EMR release.
    willReplaceOnChanges: true
  scaleDownBehavior:
    type: string
    description: |
      Way that individual Amazon EC2 instances terminate when an automatic scale-in activity occurs or an `instance group` is resized.
    willReplaceOnChanges: true
  securityConfiguration:
    type: string
    description: |
      Security configuration name to attach to the EMR cluster. Only valid for EMR clusters with `release_label` 4.8.0 or greater.
    willReplaceOnChanges: true
  serviceRole:
    type: string
    description: |
      IAM role that will be assumed by the Amazon EMR service to access AWS resources.
    willReplaceOnChanges: true
  stepConcurrencyLevel:
    type: integer
    description: |
      Number of steps that can be executed concurrently. You can specify a maximum of 256 steps. Only valid for EMR clusters with `release_label` 5.28.0 or greater (default is 1).
  steps:
    type: array
    items:
      $ref: "#/types/aws:emr/ClusterStep:ClusterStep"
    description: |
      List of steps to run when creating the cluster. See below. It is highly recommended to utilize the lifecycle resource options block with `ignoreChanges` if other steps are being managed outside of this provider.
    willReplaceOnChanges: true
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      list of tags to apply to the EMR Cluster. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  terminationProtection:
    type: boolean
    description: |
      Switch on/off termination protection (default is `false`, except when using multiple master nodes). Before attempting to destroy the resource when termination protection is enabled, this configuration must be applied with its value set to `false`.
  visibleToAllUsers:
    type: boolean
    description: |
      Whether the job flow is visible to all IAM users of the AWS account associated with the job flow. Default value is `true`.
requiredInputs:
  - releaseLabel
  - serviceRole
stateInputs:
  description: |
    Input properties used for looking up and filtering Cluster resources.
  properties:
    additionalInfo:
      type: string
      willReplaceOnChanges: true
    applications:
      type: array
      items:
        type: string
      description: |
        A case-insensitive list of applications for Amazon EMR to install and configure when launching the cluster. For a list of applications available for each Amazon EMR release version, see the [Amazon EMR Release Guide](https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-release-components.html).
      willReplaceOnChanges: true
    arn:
      type: string
    autoTerminationPolicy:
      $ref: "#/types/aws:emr/ClusterAutoTerminationPolicy:ClusterAutoTerminationPolicy"
      description: |
        An auto-termination policy for an Amazon EMR cluster. An auto-termination policy defines the amount of idle time in seconds after which a cluster automatically terminates. See Auto Termination Policy Below.
    autoscalingRole:
      type: string
      description: |
        IAM role for automatic scaling policies. The IAM role provides permissions that the automatic scaling feature requires to launch and terminate EC2 instances in an instance group.
      willReplaceOnChanges: true
    bootstrapActions:
      type: array
      items:
        $ref: "#/types/aws:emr/ClusterBootstrapAction:ClusterBootstrapAction"
      description: |
        Ordered list of bootstrap actions that will be run before Hadoop is started on the cluster nodes. See below.
      willReplaceOnChanges: true
    clusterState:
      type: string
      language:
        csharp:
          name: State
    configurations:
      type: string
      description: |
        Configuration classification that applies when provisioning cluster instances, which can include configurations for applications and software that run on the cluster. List of `configuration` blocks.
      willReplaceOnChanges: true
    configurationsJson:
      type: string
      description: |
        JSON string for supplying list of configurations for the EMR cluster.
      willReplaceOnChanges: true
    coreInstanceFleet:
      $ref: "#/types/aws:emr/ClusterCoreInstanceFleet:ClusterCoreInstanceFleet"
      description: |
        Configuration block to use an [Instance Fleet](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-fleet.html) for the core node type. Cannot be specified if any `core_instance_group` configuration blocks are set. Detailed below.
      willReplaceOnChanges: true
    coreInstanceGroup:
      $ref: "#/types/aws:emr/ClusterCoreInstanceGroup:ClusterCoreInstanceGroup"
      description: |
        Configuration block to use an [Instance Group](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-group-configuration.html#emr-plan-instance-groups) for the [core node type](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-master-core-task-nodes.html#emr-plan-core).
      willReplaceOnChanges: true
    customAmiId:
      type: string
      description: |
        Custom Amazon Linux AMI for the cluster (instead of an EMR-owned AMI). Available in Amazon EMR version 5.7.0 and later.
      willReplaceOnChanges: true
    ebsRootVolumeSize:
      type: integer
      description: |
        Size in GiB of the EBS root device volume of the Linux AMI that is used for each EC2 instance. Available in Amazon EMR version 4.x and later.
      willReplaceOnChanges: true
    ec2Attributes:
      $ref: "#/types/aws:emr/ClusterEc2Attributes:ClusterEc2Attributes"
      description: |
        Attributes for the EC2 instances running the job flow. See below.
      willReplaceOnChanges: true
    keepJobFlowAliveWhenNoSteps:
      type: boolean
      description: |
        Switch on/off run cluster with no steps or when all steps are complete (default is on)
      willReplaceOnChanges: true
    kerberosAttributes:
      $ref: "#/types/aws:emr/ClusterKerberosAttributes:ClusterKerberosAttributes"
      description: |
        Kerberos configuration for the cluster. See below.
      willReplaceOnChanges: true
    listStepsStates:
      type: array
      items:
        type: string
      description: |
        List of [step states](https://docs.aws.amazon.com/emr/latest/APIReference/API_StepStatus.html) used to filter returned steps
    logEncryptionKmsKeyId:
      type: string
      description: |
        AWS KMS customer master key (CMK) key ID or arn used for encrypting log files. This attribute is only available with EMR version 5.30.0 and later, excluding EMR 6.0.0.
      willReplaceOnChanges: true
    logUri:
      type: string
      description: |
        S3 bucket to write the log files of the job flow. If a value is not provided, logs are not created.
      willReplaceOnChanges: true
    masterInstanceFleet:
      $ref: "#/types/aws:emr/ClusterMasterInstanceFleet:ClusterMasterInstanceFleet"
      description: |
        Configuration block to use an [Instance Fleet](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-fleet.html) for the master node type. Cannot be specified if any `master_instance_group` configuration blocks are set. Detailed below.
      willReplaceOnChanges: true
    masterInstanceGroup:
      $ref: "#/types/aws:emr/ClusterMasterInstanceGroup:ClusterMasterInstanceGroup"
      description: |
        Configuration block to use an [Instance Group](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-instance-group-configuration.html#emr-plan-instance-groups) for the [master node type](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-master-core-task-nodes.html#emr-plan-master).
      willReplaceOnChanges: true
    masterPublicDns:
      type: string
      description: |
        The DNS name of the master node. If the cluster is on a private subnet, this is the private DNS name. On a public subnet, this is the public DNS name.
    name:
      type: string
      description: |
        Name of the step.
      willReplaceOnChanges: true
    releaseLabel:
      type: string
      description: |
        Release label for the Amazon EMR release.
      willReplaceOnChanges: true
    scaleDownBehavior:
      type: string
      description: |
        Way that individual Amazon EC2 instances terminate when an automatic scale-in activity occurs or an `instance group` is resized.
      willReplaceOnChanges: true
    securityConfiguration:
      type: string
      description: |
        Security configuration name to attach to the EMR cluster. Only valid for EMR clusters with `release_label` 4.8.0 or greater.
      willReplaceOnChanges: true
    serviceRole:
      type: string
      description: |
        IAM role that will be assumed by the Amazon EMR service to access AWS resources.
      willReplaceOnChanges: true
    stepConcurrencyLevel:
      type: integer
      description: |
        Number of steps that can be executed concurrently. You can specify a maximum of 256 steps. Only valid for EMR clusters with `release_label` 5.28.0 or greater (default is 1).
    steps:
      type: array
      items:
        $ref: "#/types/aws:emr/ClusterStep:ClusterStep"
      description: |
        List of steps to run when creating the cluster. See below. It is highly recommended to utilize the lifecycle resource options block with `ignoreChanges` if other steps are being managed outside of this provider.
      willReplaceOnChanges: true
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        list of tags to apply to the EMR Cluster. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        Map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
    terminationProtection:
      type: boolean
      description: |
        Switch on/off termination protection (default is `false`, except when using multiple master nodes). Before attempting to destroy the resource when termination protection is enabled, this configuration must be applied with its value set to `false`.
    visibleToAllUsers:
      type: boolean
      description: |
        Whether the job flow is visible to all IAM users of the AWS account associated with the job flow. Default value is `true`.
  type: object
