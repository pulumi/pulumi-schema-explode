$token: aws:cloudtrail/trail:Trail
properties:
  advancedEventSelectors:
    type: array
    items:
      $ref: "#/types/aws:cloudtrail/TrailAdvancedEventSelector:TrailAdvancedEventSelector"
    description: |
      Specifies an advanced event selector for enabling data event logging. Fields documented below. Conflicts with `event_selector`.
  arn:
    type: string
    description: |
      ARN of the trail.
  cloudWatchLogsGroupArn:
    type: string
    description: |
      Log group name using an ARN that represents the log group to which CloudTrail logs will be delivered. Note that CloudTrail requires the Log Stream wildcard.
  cloudWatchLogsRoleArn:
    type: string
    description: |
      Role for the CloudWatch Logs endpoint to assume to write to a user’s log group.
  enableLogFileValidation:
    type: boolean
    description: |
      Whether log file integrity validation is enabled. Defaults to `false`.
  enableLogging:
    type: boolean
    description: |
      Enables logging for the trail. Defaults to `true`. Setting this to `false` will pause logging.
  eventSelectors:
    type: array
    items:
      $ref: "#/types/aws:cloudtrail/TrailEventSelector:TrailEventSelector"
    description: |
      Specifies an event selector for enabling data event logging. Fields documented below. Please note the [CloudTrail limits](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/WhatIsCloudTrail-Limits.html) when configuring these. Conflicts with `advanced_event_selector`.
  homeRegion:
    type: string
    description: |
      Region in which the trail was created.
  includeGlobalServiceEvents:
    type: boolean
    description: |
      Whether the trail is publishing events from global services such as IAM to the log files. Defaults to `true`.
  insightSelectors:
    type: array
    items:
      $ref: "#/types/aws:cloudtrail/TrailInsightSelector:TrailInsightSelector"
    description: |
      Configuration block for identifying unusual operational activity. See details below.
  isMultiRegionTrail:
    type: boolean
    description: |
      Whether the trail is created in the current region or in all regions. Defaults to `false`.
  isOrganizationTrail:
    type: boolean
    description: |
      Whether the trail is an AWS Organizations trail. Organization trails log events for the master account and all member accounts. Can only be created in the organization master account. Defaults to `false`.
  kmsKeyId:
    type: string
    description: |
      KMS key ARN to use to encrypt the logs delivered by CloudTrail.
  name:
    type: string
    description: |
      Name of the advanced event selector.
  s3BucketName:
    type: string
    description: |
      Name of the S3 bucket designated for publishing log files.
  s3KeyPrefix:
    type: string
    description: |
      S3 key prefix that follows the name of the bucket you have designated for log file delivery.
  snsTopicName:
    type: string
    description: |
      Name of the Amazon SNS topic defined for notification of log file delivery.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags to assign to the trail. If configured with provider defaultTags present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
required:
  - arn
  - homeRegion
  - name
  - s3BucketName
  - tagsAll
inputProperties:
  advancedEventSelectors:
    type: array
    items:
      $ref: "#/types/aws:cloudtrail/TrailAdvancedEventSelector:TrailAdvancedEventSelector"
    description: |
      Specifies an advanced event selector for enabling data event logging. Fields documented below. Conflicts with `event_selector`.
  cloudWatchLogsGroupArn:
    type: string
    description: |
      Log group name using an ARN that represents the log group to which CloudTrail logs will be delivered. Note that CloudTrail requires the Log Stream wildcard.
  cloudWatchLogsRoleArn:
    type: string
    description: |
      Role for the CloudWatch Logs endpoint to assume to write to a user’s log group.
  enableLogFileValidation:
    type: boolean
    description: |
      Whether log file integrity validation is enabled. Defaults to `false`.
  enableLogging:
    type: boolean
    description: |
      Enables logging for the trail. Defaults to `true`. Setting this to `false` will pause logging.
  eventSelectors:
    type: array
    items:
      $ref: "#/types/aws:cloudtrail/TrailEventSelector:TrailEventSelector"
    description: |
      Specifies an event selector for enabling data event logging. Fields documented below. Please note the [CloudTrail limits](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/WhatIsCloudTrail-Limits.html) when configuring these. Conflicts with `advanced_event_selector`.
  includeGlobalServiceEvents:
    type: boolean
    description: |
      Whether the trail is publishing events from global services such as IAM to the log files. Defaults to `true`.
  insightSelectors:
    type: array
    items:
      $ref: "#/types/aws:cloudtrail/TrailInsightSelector:TrailInsightSelector"
    description: |
      Configuration block for identifying unusual operational activity. See details below.
  isMultiRegionTrail:
    type: boolean
    description: |
      Whether the trail is created in the current region or in all regions. Defaults to `false`.
  isOrganizationTrail:
    type: boolean
    description: |
      Whether the trail is an AWS Organizations trail. Organization trails log events for the master account and all member accounts. Can only be created in the organization master account. Defaults to `false`.
  kmsKeyId:
    type: string
    description: |
      KMS key ARN to use to encrypt the logs delivered by CloudTrail.
  name:
    type: string
    description: |
      Name of the advanced event selector.
    willReplaceOnChanges: true
  s3BucketName:
    type: string
    description: |
      Name of the S3 bucket designated for publishing log files.
  s3KeyPrefix:
    type: string
    description: |
      S3 key prefix that follows the name of the bucket you have designated for log file delivery.
  snsTopicName:
    type: string
    description: |
      Name of the Amazon SNS topic defined for notification of log file delivery.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags to assign to the trail. If configured with provider defaultTags present, tags with matching keys will overwrite those defined at the provider-level.
requiredInputs:
  - s3BucketName
stateInputs:
  description: |
    Input properties used for looking up and filtering Trail resources.
  properties:
    advancedEventSelectors:
      type: array
      items:
        $ref: "#/types/aws:cloudtrail/TrailAdvancedEventSelector:TrailAdvancedEventSelector"
      description: |
        Specifies an advanced event selector for enabling data event logging. Fields documented below. Conflicts with `event_selector`.
    arn:
      type: string
      description: |
        ARN of the trail.
    cloudWatchLogsGroupArn:
      type: string
      description: |
        Log group name using an ARN that represents the log group to which CloudTrail logs will be delivered. Note that CloudTrail requires the Log Stream wildcard.
    cloudWatchLogsRoleArn:
      type: string
      description: |
        Role for the CloudWatch Logs endpoint to assume to write to a user’s log group.
    enableLogFileValidation:
      type: boolean
      description: |
        Whether log file integrity validation is enabled. Defaults to `false`.
    enableLogging:
      type: boolean
      description: |
        Enables logging for the trail. Defaults to `true`. Setting this to `false` will pause logging.
    eventSelectors:
      type: array
      items:
        $ref: "#/types/aws:cloudtrail/TrailEventSelector:TrailEventSelector"
      description: |
        Specifies an event selector for enabling data event logging. Fields documented below. Please note the [CloudTrail limits](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/WhatIsCloudTrail-Limits.html) when configuring these. Conflicts with `advanced_event_selector`.
    homeRegion:
      type: string
      description: |
        Region in which the trail was created.
    includeGlobalServiceEvents:
      type: boolean
      description: |
        Whether the trail is publishing events from global services such as IAM to the log files. Defaults to `true`.
    insightSelectors:
      type: array
      items:
        $ref: "#/types/aws:cloudtrail/TrailInsightSelector:TrailInsightSelector"
      description: |
        Configuration block for identifying unusual operational activity. See details below.
    isMultiRegionTrail:
      type: boolean
      description: |
        Whether the trail is created in the current region or in all regions. Defaults to `false`.
    isOrganizationTrail:
      type: boolean
      description: |
        Whether the trail is an AWS Organizations trail. Organization trails log events for the master account and all member accounts. Can only be created in the organization master account. Defaults to `false`.
    kmsKeyId:
      type: string
      description: |
        KMS key ARN to use to encrypt the logs delivered by CloudTrail.
    name:
      type: string
      description: |
        Name of the advanced event selector.
      willReplaceOnChanges: true
    s3BucketName:
      type: string
      description: |
        Name of the S3 bucket designated for publishing log files.
    s3KeyPrefix:
      type: string
      description: |
        S3 key prefix that follows the name of the bucket you have designated for log file delivery.
    snsTopicName:
      type: string
      description: |
        Name of the Amazon SNS topic defined for notification of log file delivery.
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        Map of tags to assign to the trail. If configured with provider defaultTags present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        Map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  type: object
