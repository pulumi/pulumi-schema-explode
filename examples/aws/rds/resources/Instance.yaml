$token: aws:rds/instance:Instance
properties:
  address:
    type: string
    description: |
      The hostname of the RDS instance. See also `endpoint` and `port`.
  allocatedStorage:
    type: integer
    description: |
      The allocated storage in gibibytes. If `max_allocated_storage` is configured, this argument represents the initial storage allocation and differences from the configuration will be ignored automatically when Storage Autoscaling occurs. If `replicate_source_db` is set, the value is ignored during the creation of the instance.
  allowMajorVersionUpgrade:
    type: boolean
    description: |
      Indicates that major version
      upgrades are allowed. Changing this parameter does not result in an outage and
      the change is asynchronously applied as soon as possible.
  applyImmediately:
    type: boolean
    description: |
      Specifies whether any database modifications
      are applied immediately, or during the next maintenance window. Default is
      `false`. See [Amazon RDS Documentation for more
      information.](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.DBInstance.Modifying.html)
  arn:
    type: string
    description: |
      The ARN of the RDS instance.
  autoMinorVersionUpgrade:
    type: boolean
    description: |
      Indicates that minor engine upgrades
      will be applied automatically to the DB instance during the maintenance window.
      Defaults to true.
  availabilityZone:
    type: string
    description: |
      The AZ for the RDS instance.
  backupRetentionPeriod:
    type: integer
    description: |
      The days to retain backups for. Must be
      between `0` and `35`. Must be greater than `0` if the database is used as a source for a Read Replica. [See Read Replica][1].
  backupWindow:
    type: string
    description: |
      The daily time range (in UTC) during which
      automated backups are created if they are enabled. Example: "09:46-10:16". Must
      not overlap with `maintenance_window`.
  caCertIdentifier:
    type: string
    description: |
      The identifier of the CA certificate for the DB instance.
  characterSetName:
    type: string
    description: |
      The character set name to use for DB
      encoding in Oracle and Microsoft SQL instances (collation). This can't be changed. See [Oracle Character Sets
      Supported in Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.OracleCharacterSets.html)
      or [Server-Level Collation for Microsoft SQL Server](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.SQLServer.CommonDBATasks.Collation.html) for more information.
  copyTagsToSnapshot:
    type: boolean
    description: |
      Copy all Instance `tags` to snapshots. Default is `false`.
  customerOwnedIpEnabled:
    type: boolean
    description: |
      Indicates whether to enable a customer-owned IP address (CoIP) for an RDS on Outposts DB instance. See [CoIP for RDS on Outposts](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-on-outposts.html#rds-on-outposts.coip) for more information.
  dbName:
    type: string
    description: |
      The name of the database to create when the DB instance is created. If this parameter is not specified, no database is created in the DB instance. Note that this does not apply for Oracle or SQL Server engines. See the [AWS documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/rds/create-db-instance.html) for more details on what applies for those engines. If you are providing an Oracle db name, it needs to be in all upper case. Cannot be specified for a replica.
  dbSubnetGroupName:
    type: string
    description: |
      Name of DB subnet group. DB instance will
      be created in the VPC associated with the DB subnet group. If unspecified, will
      be created in the `default` VPC, or in EC2 Classic, if available. When working
      with read replicas, it should be specified only if the source database
      specifies an instance in another AWS Region. See [DBSubnetGroupName in API
      action CreateDBInstanceReadReplica](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstanceReadReplica.html)
      for additional read replica contraints.
  deleteAutomatedBackups:
    type: boolean
    description: |
      Specifies whether to remove automated backups immediately after the DB instance is deleted. Default is `true`.
  deletionProtection:
    type: boolean
    description: |
      If the DB instance should have deletion protection enabled. The database can't be deleted when this value is set to `true`. The default is `false`.
  domain:
    type: string
    description: |
      The ID of the Directory Service Active Directory domain to create the instance in.
  domainIamRoleName:
    type: string
    description: |
      The name of the IAM role to be used when making API calls to the Directory Service.
  enabledCloudwatchLogsExports:
    type: array
    items:
      type: string
    description: |
      Set of log types to enable for exporting to CloudWatch logs. If omitted, no logs will be exported. Valid values (depending on `engine`). MySQL and MariaDB: `audit`, `error`, `general`, `slowquery`. PostgreSQL: `postgresql`, `upgrade`. MSSQL: `agent` , `error`. Oracle: `alert`, `audit`, `listener`, `trace`.
  endpoint:
    type: string
    description: |
      The connection endpoint in `address:port` format.
  engine:
    type: string
    description: |
      (Required unless a `snapshot_identifier` or `replicate_source_db`
      is provided) The database engine to use.  For supported values, see the Engine parameter in [API action CreateDBInstance](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstance.html). Cannot be specified for a replica.
      Note that for Amazon Aurora instances the engine must match the DB cluster's engine'.
      For information on the difference between the available Aurora MySQL engines
      see [Comparison between Aurora MySQL 1 and Aurora MySQL 2](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/AuroraMySQL.Updates.20180206.html)
      in the Amazon RDS User Guide.
  engineVersion:
    type: string
    description: |
      The engine version to use. If `auto_minor_version_upgrade`
      is enabled, you can provide a prefix of the version such as `5.7` (for `5.7.10`).
      The actual engine version used is returned in the attribute `engine_version_actual`, see Attributes Reference below.
      For supported values, see the EngineVersion parameter in [API action CreateDBInstance](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstance.html).
      Note that for Amazon Aurora instances the engine version must match the DB cluster's engine version'. Cannot be specified for a replica.
  engineVersionActual:
    type: string
    description: |
      The running version of the database.
  finalSnapshotIdentifier:
    type: string
    description: |
      The name of your final DB snapshot
      when this DB instance is deleted. Must be provided if `skip_final_snapshot` is
      set to `false`. The value must begin with a letter, only contain alphanumeric characters and hyphens, and not end with a hyphen or contain two consecutive hyphens. Must not be provided when deleting a read replica.
  hostedZoneId:
    type: string
    description: |
      The canonical hosted zone ID of the DB instance (to be used
      in a Route 53 Alias record).
  iamDatabaseAuthenticationEnabled:
    type: boolean
    description: |
      Specifies whether or
      mappings of AWS Identity and Access Management (IAM) accounts to database
      accounts is enabled.
  identifier:
    type: string
    description: |
      The name of the RDS instance,
      if omitted, this provider will assign a random, unique identifier.
  identifierPrefix:
    type: string
    description: |
      Creates a unique
      identifier beginning with the specified prefix. Conflicts with `identifier`.
  instanceClass:
    type: string
    description: |
      The instance type of the RDS instance.
  iops:
    type: integer
    description: |
      The amount of provisioned IOPS. Setting this implies a
      storage_type of "io1".
  kmsKeyId:
    type: string
    description: |
      The ARN for the KMS encryption key. If creating an
      encrypted replica, set this to the destination KMS ARN.
  latestRestorableTime:
    type: string
    description: |
      The latest time, in UTC [RFC3339 format](https://tools.ietf.org/html/rfc3339#section-5.8), to which a database can be restored with point-in-time restore.
  licenseModel:
    type: string
    description: |
      (Optional, but required for some DB engines, i.e., Oracle
      SE1) License model information for this DB instance.
  maintenanceWindow:
    type: string
    description: |
      The window to perform maintenance in.
      Syntax: "ddd:hh24:mi-ddd:hh24:mi". Eg: "Mon:00:00-Mon:03:00". See [RDS
      Maintenance Window
      docs](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.Maintenance.html#AdjustingTheMaintenanceWindow)
      for more information.
  maxAllocatedStorage:
    type: integer
    description: |
      When configured, the upper limit to which Amazon RDS can automatically scale the storage of the DB instance. Configuring this will automatically ignore differences to `allocated_storage`. Must be greater than or equal to `allocated_storage` or `0` to disable Storage Autoscaling.
  monitoringInterval:
    type: integer
    description: |
      The interval, in seconds, between points
      when Enhanced Monitoring metrics are collected for the DB instance. To disable
      collecting Enhanced Monitoring metrics, specify 0. The default is 0. Valid
      Values: 0, 1, 5, 10, 15, 30, 60.
  monitoringRoleArn:
    type: string
    description: |
      The ARN for the IAM role that permits RDS
      to send enhanced monitoring metrics to CloudWatch Logs. You can find more
      information on the [AWS
      Documentation](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_Monitoring.html)
      what IAM permissions are needed to allow Enhanced Monitoring for RDS Instances.
  multiAz:
    type: boolean
    description: |
      Specifies if the RDS instance is multi-AZ
  name:
    type: string
    description: |
      The name of the database to create when the DB instance is created. If this parameter is not specified, no database is created in the DB instance. Note that this does not apply for Oracle or SQL Server engines. See the [AWS documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/rds/create-db-instance.html) for more details on what applies for those engines. If you are providing an Oracle db name, it needs to be in all upper case. Cannot be specified for a replica.
    deprecationMessage: Use db_name instead
  ncharCharacterSetName:
    type: string
    description: |
      The national character set is used in the NCHAR, NVARCHAR2, and NCLOB data types for Oracle instances. This can't be changed. See [Oracle Character Sets
      Supported in Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.OracleCharacterSets.html).
  networkType:
    type: string
    description: |
      The network type of the DB instance. Valid values: `IPV4`, `DUAL`.
  optionGroupName:
    type: string
    description: |
      Name of the DB option group to associate.
  parameterGroupName:
    type: string
    description: |
      Name of the DB parameter group to
      associate.
  password:
    type: string
    description: |
      (Required unless a `snapshot_identifier` or `replicate_source_db`
      is provided) Password for the master DB user. Note that this may show up in
      logs, and it will be stored in the state file.
  performanceInsightsEnabled:
    type: boolean
    description: |
      Specifies whether Performance Insights are enabled. Defaults to false.
  performanceInsightsKmsKeyId:
    type: string
    description: |
      The ARN for the KMS key to encrypt Performance Insights data. When specifying `performance_insights_kms_key_id`, `performance_insights_enabled` needs to be set to true. Once KMS key is set, it can never be changed.
  performanceInsightsRetentionPeriod:
    type: integer
    description: |
      Amount of time in days to retain Performance Insights data. Valid values are `7`, `731` (2 years) or a multiple of `31`. When specifying `performance_insights_retention_period`, `performance_insights_enabled` needs to be set to true. Defaults to '7'.
  port:
    type: integer
    description: |
      The port on which the DB accepts connections.
  publiclyAccessible:
    type: boolean
    description: |
      Bool to control if instance is publicly
      accessible. Default is `false`.
  replicaMode:
    type: string
    description: |
      Specifies whether the replica is in either `mounted` or `open-read-only` mode. This attribute
      is only supported by Oracle instances. Oracle replicas operate in `open-read-only` mode unless otherwise specified. See [Working with Oracle Read Replicas](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/oracle-read-replicas.html) for more information.
  replicas:
    type: array
    items:
      type: string
  replicateSourceDb:
    type: string
    description: |
      Specifies that this resource is a Replicate
      database, and to use this value as the source database. This correlates to the
      `identifier` of another Amazon RDS Database to replicate (if replicating within
      a single region) or ARN of the Amazon RDS Database to replicate (if replicating
      cross-region). Note that if you are
      creating a cross-region replica of an encrypted database you will also need to
      specify a `kms_key_id`. See [DB Instance Replication][1] and [Working with
      PostgreSQL and MySQL Read Replicas](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_ReadRepl.html)
      for more information on using Replication.
  resourceId:
    type: string
    description: |
      The RDS Resource ID of this instance.
  restoreToPointInTime:
    $ref: "#/types/aws:rds/InstanceRestoreToPointInTime:InstanceRestoreToPointInTime"
    description: |
      A configuration block for restoring a DB instance to an arbitrary point in time. Requires the `identifier` argument to be set with the name of the new DB instance to be created. See Restore To Point In Time below for details.
  s3Import:
    $ref: "#/types/aws:rds/InstanceS3Import:InstanceS3Import"
    description: |
      Restore from a Percona Xtrabackup in S3.  See [Importing Data into an Amazon RDS MySQL DB Instance](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/MySQL.Procedural.Importing.html)
  securityGroupNames:
    type: array
    items:
      type: string
    description: |
      List of DB Security Groups to
      associate. Only used for [DB Instances on the _EC2-Classic_
      Platform](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_VPC.html#USER_VPC.FindDefaultVPC).
    deprecationMessage: With the retirement of EC2-Classic the security_group_names attribute has been deprecated and will be removed in a future version.
  skipFinalSnapshot:
    type: boolean
    description: |
      Determines whether a final DB snapshot is
      created before the DB instance is deleted. If true is specified, no DBSnapshot
      is created. If false is specified, a DB snapshot is created before the DB
      instance is deleted, using the value from `final_snapshot_identifier`. Default
      is `false`.
  snapshotIdentifier:
    type: string
    description: |
      Specifies whether or not to create this
      database from a snapshot. This correlates to the snapshot ID you'd find in the
      RDS console, e.g: rds:production-2015-06-26-06-05.
  status:
    type: string
    description: |
      The RDS instance status.
  storageEncrypted:
    type: boolean
    description: |
      Specifies whether the DB instance is
      encrypted. Note that if you are creating a cross-region read replica this field
      is ignored and you should instead declare `kms_key_id` with a valid ARN. The
      default is `false` if not specified.
  storageType:
    type: string
    description: |
      One of "standard" (magnetic), "gp2" (general
      purpose SSD), or "io1" (provisioned IOPS SSD). The default is "io1" if `iops` is
      specified, "gp2" if not.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the resource. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  timezone:
    type: string
    description: |
      Time zone of the DB instance. `timezone` is currently
      only supported by Microsoft SQL Server. The `timezone` can only be set on
      creation. See [MSSQL User
      Guide](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_SQLServer.html#SQLServer.Concepts.General.TimeZone)
      for more information.
  username:
    type: string
    description: |
      (Required unless a `snapshot_identifier` or `replicate_source_db`
      is provided) Username for the master DB user. Cannot be specified for a replica.
  vpcSecurityGroupIds:
    type: array
    items:
      type: string
    description: |
      List of VPC security groups to
      associate.
required:
  - address
  - allocatedStorage
  - applyImmediately
  - arn
  - availabilityZone
  - backupRetentionPeriod
  - backupWindow
  - caCertIdentifier
  - characterSetName
  - dbName
  - dbSubnetGroupName
  - endpoint
  - engine
  - engineVersion
  - engineVersionActual
  - hostedZoneId
  - identifier
  - identifierPrefix
  - instanceClass
  - kmsKeyId
  - latestRestorableTime
  - licenseModel
  - maintenanceWindow
  - monitoringRoleArn
  - multiAz
  - name
  - ncharCharacterSetName
  - networkType
  - optionGroupName
  - parameterGroupName
  - performanceInsightsKmsKeyId
  - performanceInsightsRetentionPeriod
  - port
  - replicaMode
  - replicas
  - resourceId
  - snapshotIdentifier
  - status
  - storageType
  - tagsAll
  - timezone
  - username
  - vpcSecurityGroupIds
inputProperties:
  allocatedStorage:
    type: integer
    description: |
      The allocated storage in gibibytes. If `max_allocated_storage` is configured, this argument represents the initial storage allocation and differences from the configuration will be ignored automatically when Storage Autoscaling occurs. If `replicate_source_db` is set, the value is ignored during the creation of the instance.
  allowMajorVersionUpgrade:
    type: boolean
    description: |
      Indicates that major version
      upgrades are allowed. Changing this parameter does not result in an outage and
      the change is asynchronously applied as soon as possible.
  applyImmediately:
    type: boolean
    description: |
      Specifies whether any database modifications
      are applied immediately, or during the next maintenance window. Default is
      `false`. See [Amazon RDS Documentation for more
      information.](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.DBInstance.Modifying.html)
  autoMinorVersionUpgrade:
    type: boolean
    description: |
      Indicates that minor engine upgrades
      will be applied automatically to the DB instance during the maintenance window.
      Defaults to true.
  availabilityZone:
    type: string
    description: |
      The AZ for the RDS instance.
    willReplaceOnChanges: true
  backupRetentionPeriod:
    type: integer
    description: |
      The days to retain backups for. Must be
      between `0` and `35`. Must be greater than `0` if the database is used as a source for a Read Replica. [See Read Replica][1].
  backupWindow:
    type: string
    description: |
      The daily time range (in UTC) during which
      automated backups are created if they are enabled. Example: "09:46-10:16". Must
      not overlap with `maintenance_window`.
  caCertIdentifier:
    type: string
    description: |
      The identifier of the CA certificate for the DB instance.
  characterSetName:
    type: string
    description: |
      The character set name to use for DB
      encoding in Oracle and Microsoft SQL instances (collation). This can't be changed. See [Oracle Character Sets
      Supported in Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.OracleCharacterSets.html)
      or [Server-Level Collation for Microsoft SQL Server](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.SQLServer.CommonDBATasks.Collation.html) for more information.
    willReplaceOnChanges: true
  copyTagsToSnapshot:
    type: boolean
    description: |
      Copy all Instance `tags` to snapshots. Default is `false`.
  customerOwnedIpEnabled:
    type: boolean
    description: |
      Indicates whether to enable a customer-owned IP address (CoIP) for an RDS on Outposts DB instance. See [CoIP for RDS on Outposts](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-on-outposts.html#rds-on-outposts.coip) for more information.
  dbName:
    type: string
    description: |
      The name of the database to create when the DB instance is created. If this parameter is not specified, no database is created in the DB instance. Note that this does not apply for Oracle or SQL Server engines. See the [AWS documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/rds/create-db-instance.html) for more details on what applies for those engines. If you are providing an Oracle db name, it needs to be in all upper case. Cannot be specified for a replica.
    willReplaceOnChanges: true
  dbSubnetGroupName:
    type: string
    description: |
      Name of DB subnet group. DB instance will
      be created in the VPC associated with the DB subnet group. If unspecified, will
      be created in the `default` VPC, or in EC2 Classic, if available. When working
      with read replicas, it should be specified only if the source database
      specifies an instance in another AWS Region. See [DBSubnetGroupName in API
      action CreateDBInstanceReadReplica](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstanceReadReplica.html)
      for additional read replica contraints.
  deleteAutomatedBackups:
    type: boolean
    description: |
      Specifies whether to remove automated backups immediately after the DB instance is deleted. Default is `true`.
  deletionProtection:
    type: boolean
    description: |
      If the DB instance should have deletion protection enabled. The database can't be deleted when this value is set to `true`. The default is `false`.
  domain:
    type: string
    description: |
      The ID of the Directory Service Active Directory domain to create the instance in.
  domainIamRoleName:
    type: string
    description: |
      The name of the IAM role to be used when making API calls to the Directory Service.
  enabledCloudwatchLogsExports:
    type: array
    items:
      type: string
    description: |
      Set of log types to enable for exporting to CloudWatch logs. If omitted, no logs will be exported. Valid values (depending on `engine`). MySQL and MariaDB: `audit`, `error`, `general`, `slowquery`. PostgreSQL: `postgresql`, `upgrade`. MSSQL: `agent` , `error`. Oracle: `alert`, `audit`, `listener`, `trace`.
  engine:
    type: string
    description: |
      (Required unless a `snapshot_identifier` or `replicate_source_db`
      is provided) The database engine to use.  For supported values, see the Engine parameter in [API action CreateDBInstance](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstance.html). Cannot be specified for a replica.
      Note that for Amazon Aurora instances the engine must match the DB cluster's engine'.
      For information on the difference between the available Aurora MySQL engines
      see [Comparison between Aurora MySQL 1 and Aurora MySQL 2](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/AuroraMySQL.Updates.20180206.html)
      in the Amazon RDS User Guide.
    willReplaceOnChanges: true
  engineVersion:
    type: string
    description: |
      The engine version to use. If `auto_minor_version_upgrade`
      is enabled, you can provide a prefix of the version such as `5.7` (for `5.7.10`).
      The actual engine version used is returned in the attribute `engine_version_actual`, see Attributes Reference below.
      For supported values, see the EngineVersion parameter in [API action CreateDBInstance](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstance.html).
      Note that for Amazon Aurora instances the engine version must match the DB cluster's engine version'. Cannot be specified for a replica.
  finalSnapshotIdentifier:
    type: string
    description: |
      The name of your final DB snapshot
      when this DB instance is deleted. Must be provided if `skip_final_snapshot` is
      set to `false`. The value must begin with a letter, only contain alphanumeric characters and hyphens, and not end with a hyphen or contain two consecutive hyphens. Must not be provided when deleting a read replica.
  iamDatabaseAuthenticationEnabled:
    type: boolean
    description: |
      Specifies whether or
      mappings of AWS Identity and Access Management (IAM) accounts to database
      accounts is enabled.
  identifier:
    type: string
    description: |
      The name of the RDS instance,
      if omitted, this provider will assign a random, unique identifier.
    willReplaceOnChanges: true
  identifierPrefix:
    type: string
    description: |
      Creates a unique
      identifier beginning with the specified prefix. Conflicts with `identifier`.
    willReplaceOnChanges: true
  instanceClass:
    type: string
    oneOf:
      - type: string
      - type: string
        $ref: "#/types/aws:rds/InstanceType:InstanceType"
    description: |
      The instance type of the RDS instance.
  iops:
    type: integer
    description: |
      The amount of provisioned IOPS. Setting this implies a
      storage_type of "io1".
  kmsKeyId:
    type: string
    description: |
      The ARN for the KMS encryption key. If creating an
      encrypted replica, set this to the destination KMS ARN.
    willReplaceOnChanges: true
  licenseModel:
    type: string
    description: |
      (Optional, but required for some DB engines, i.e., Oracle
      SE1) License model information for this DB instance.
  maintenanceWindow:
    type: string
    description: |
      The window to perform maintenance in.
      Syntax: "ddd:hh24:mi-ddd:hh24:mi". Eg: "Mon:00:00-Mon:03:00". See [RDS
      Maintenance Window
      docs](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.Maintenance.html#AdjustingTheMaintenanceWindow)
      for more information.
  maxAllocatedStorage:
    type: integer
    description: |
      When configured, the upper limit to which Amazon RDS can automatically scale the storage of the DB instance. Configuring this will automatically ignore differences to `allocated_storage`. Must be greater than or equal to `allocated_storage` or `0` to disable Storage Autoscaling.
  monitoringInterval:
    type: integer
    description: |
      The interval, in seconds, between points
      when Enhanced Monitoring metrics are collected for the DB instance. To disable
      collecting Enhanced Monitoring metrics, specify 0. The default is 0. Valid
      Values: 0, 1, 5, 10, 15, 30, 60.
  monitoringRoleArn:
    type: string
    description: |
      The ARN for the IAM role that permits RDS
      to send enhanced monitoring metrics to CloudWatch Logs. You can find more
      information on the [AWS
      Documentation](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_Monitoring.html)
      what IAM permissions are needed to allow Enhanced Monitoring for RDS Instances.
  multiAz:
    type: boolean
    description: |
      Specifies if the RDS instance is multi-AZ
  name:
    type: string
    description: |
      The name of the database to create when the DB instance is created. If this parameter is not specified, no database is created in the DB instance. Note that this does not apply for Oracle or SQL Server engines. See the [AWS documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/rds/create-db-instance.html) for more details on what applies for those engines. If you are providing an Oracle db name, it needs to be in all upper case. Cannot be specified for a replica.
    deprecationMessage: Use db_name instead
    willReplaceOnChanges: true
  ncharCharacterSetName:
    type: string
    description: |
      The national character set is used in the NCHAR, NVARCHAR2, and NCLOB data types for Oracle instances. This can't be changed. See [Oracle Character Sets
      Supported in Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.OracleCharacterSets.html).
    willReplaceOnChanges: true
  networkType:
    type: string
    description: |
      The network type of the DB instance. Valid values: `IPV4`, `DUAL`.
  optionGroupName:
    type: string
    description: |
      Name of the DB option group to associate.
  parameterGroupName:
    type: string
    description: |
      Name of the DB parameter group to
      associate.
  password:
    type: string
    description: |
      (Required unless a `snapshot_identifier` or `replicate_source_db`
      is provided) Password for the master DB user. Note that this may show up in
      logs, and it will be stored in the state file.
  performanceInsightsEnabled:
    type: boolean
    description: |
      Specifies whether Performance Insights are enabled. Defaults to false.
  performanceInsightsKmsKeyId:
    type: string
    description: |
      The ARN for the KMS key to encrypt Performance Insights data. When specifying `performance_insights_kms_key_id`, `performance_insights_enabled` needs to be set to true. Once KMS key is set, it can never be changed.
  performanceInsightsRetentionPeriod:
    type: integer
    description: |
      Amount of time in days to retain Performance Insights data. Valid values are `7`, `731` (2 years) or a multiple of `31`. When specifying `performance_insights_retention_period`, `performance_insights_enabled` needs to be set to true. Defaults to '7'.
  port:
    type: integer
    description: |
      The port on which the DB accepts connections.
  publiclyAccessible:
    type: boolean
    description: |
      Bool to control if instance is publicly
      accessible. Default is `false`.
  replicaMode:
    type: string
    description: |
      Specifies whether the replica is in either `mounted` or `open-read-only` mode. This attribute
      is only supported by Oracle instances. Oracle replicas operate in `open-read-only` mode unless otherwise specified. See [Working with Oracle Read Replicas](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/oracle-read-replicas.html) for more information.
  replicateSourceDb:
    type: string
    description: |
      Specifies that this resource is a Replicate
      database, and to use this value as the source database. This correlates to the
      `identifier` of another Amazon RDS Database to replicate (if replicating within
      a single region) or ARN of the Amazon RDS Database to replicate (if replicating
      cross-region). Note that if you are
      creating a cross-region replica of an encrypted database you will also need to
      specify a `kms_key_id`. See [DB Instance Replication][1] and [Working with
      PostgreSQL and MySQL Read Replicas](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_ReadRepl.html)
      for more information on using Replication.
  restoreToPointInTime:
    $ref: "#/types/aws:rds/InstanceRestoreToPointInTime:InstanceRestoreToPointInTime"
    description: |
      A configuration block for restoring a DB instance to an arbitrary point in time. Requires the `identifier` argument to be set with the name of the new DB instance to be created. See Restore To Point In Time below for details.
    willReplaceOnChanges: true
  s3Import:
    $ref: "#/types/aws:rds/InstanceS3Import:InstanceS3Import"
    description: |
      Restore from a Percona Xtrabackup in S3.  See [Importing Data into an Amazon RDS MySQL DB Instance](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/MySQL.Procedural.Importing.html)
  securityGroupNames:
    type: array
    items:
      type: string
    description: |
      List of DB Security Groups to
      associate. Only used for [DB Instances on the _EC2-Classic_
      Platform](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_VPC.html#USER_VPC.FindDefaultVPC).
    deprecationMessage: With the retirement of EC2-Classic the security_group_names attribute has been deprecated and will be removed in a future version.
  skipFinalSnapshot:
    type: boolean
    description: |
      Determines whether a final DB snapshot is
      created before the DB instance is deleted. If true is specified, no DBSnapshot
      is created. If false is specified, a DB snapshot is created before the DB
      instance is deleted, using the value from `final_snapshot_identifier`. Default
      is `false`.
  snapshotIdentifier:
    type: string
    description: |
      Specifies whether or not to create this
      database from a snapshot. This correlates to the snapshot ID you'd find in the
      RDS console, e.g: rds:production-2015-06-26-06-05.
    willReplaceOnChanges: true
  storageEncrypted:
    type: boolean
    description: |
      Specifies whether the DB instance is
      encrypted. Note that if you are creating a cross-region read replica this field
      is ignored and you should instead declare `kms_key_id` with a valid ARN. The
      default is `false` if not specified.
    willReplaceOnChanges: true
  storageType:
    type: string
    oneOf:
      - type: string
      - type: string
        $ref: "#/types/aws:rds/StorageType:StorageType"
    description: |
      One of "standard" (magnetic), "gp2" (general
      purpose SSD), or "io1" (provisioned IOPS SSD). The default is "io1" if `iops` is
      specified, "gp2" if not.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the resource. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  timezone:
    type: string
    description: |
      Time zone of the DB instance. `timezone` is currently
      only supported by Microsoft SQL Server. The `timezone` can only be set on
      creation. See [MSSQL User
      Guide](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_SQLServer.html#SQLServer.Concepts.General.TimeZone)
      for more information.
    willReplaceOnChanges: true
  username:
    type: string
    description: |
      (Required unless a `snapshot_identifier` or `replicate_source_db`
      is provided) Username for the master DB user. Cannot be specified for a replica.
    willReplaceOnChanges: true
  vpcSecurityGroupIds:
    type: array
    items:
      type: string
    description: |
      List of VPC security groups to
      associate.
requiredInputs:
  - instanceClass
stateInputs:
  description: |
    Input properties used for looking up and filtering Instance resources.
  properties:
    address:
      type: string
      description: |
        The hostname of the RDS instance. See also `endpoint` and `port`.
    allocatedStorage:
      type: integer
      description: |
        The allocated storage in gibibytes. If `max_allocated_storage` is configured, this argument represents the initial storage allocation and differences from the configuration will be ignored automatically when Storage Autoscaling occurs. If `replicate_source_db` is set, the value is ignored during the creation of the instance.
    allowMajorVersionUpgrade:
      type: boolean
      description: |
        Indicates that major version
        upgrades are allowed. Changing this parameter does not result in an outage and
        the change is asynchronously applied as soon as possible.
    applyImmediately:
      type: boolean
      description: |
        Specifies whether any database modifications
        are applied immediately, or during the next maintenance window. Default is
        `false`. See [Amazon RDS Documentation for more
        information.](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.DBInstance.Modifying.html)
    arn:
      type: string
      description: |
        The ARN of the RDS instance.
    autoMinorVersionUpgrade:
      type: boolean
      description: |
        Indicates that minor engine upgrades
        will be applied automatically to the DB instance during the maintenance window.
        Defaults to true.
    availabilityZone:
      type: string
      description: |
        The AZ for the RDS instance.
      willReplaceOnChanges: true
    backupRetentionPeriod:
      type: integer
      description: |
        The days to retain backups for. Must be
        between `0` and `35`. Must be greater than `0` if the database is used as a source for a Read Replica. [See Read Replica][1].
    backupWindow:
      type: string
      description: |
        The daily time range (in UTC) during which
        automated backups are created if they are enabled. Example: "09:46-10:16". Must
        not overlap with `maintenance_window`.
    caCertIdentifier:
      type: string
      description: |
        The identifier of the CA certificate for the DB instance.
    characterSetName:
      type: string
      description: |
        The character set name to use for DB
        encoding in Oracle and Microsoft SQL instances (collation). This can't be changed. See [Oracle Character Sets
        Supported in Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.OracleCharacterSets.html)
        or [Server-Level Collation for Microsoft SQL Server](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.SQLServer.CommonDBATasks.Collation.html) for more information.
      willReplaceOnChanges: true
    copyTagsToSnapshot:
      type: boolean
      description: |
        Copy all Instance `tags` to snapshots. Default is `false`.
    customerOwnedIpEnabled:
      type: boolean
      description: |
        Indicates whether to enable a customer-owned IP address (CoIP) for an RDS on Outposts DB instance. See [CoIP for RDS on Outposts](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-on-outposts.html#rds-on-outposts.coip) for more information.
    dbName:
      type: string
      description: |
        The name of the database to create when the DB instance is created. If this parameter is not specified, no database is created in the DB instance. Note that this does not apply for Oracle or SQL Server engines. See the [AWS documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/rds/create-db-instance.html) for more details on what applies for those engines. If you are providing an Oracle db name, it needs to be in all upper case. Cannot be specified for a replica.
      willReplaceOnChanges: true
    dbSubnetGroupName:
      type: string
      description: |
        Name of DB subnet group. DB instance will
        be created in the VPC associated with the DB subnet group. If unspecified, will
        be created in the `default` VPC, or in EC2 Classic, if available. When working
        with read replicas, it should be specified only if the source database
        specifies an instance in another AWS Region. See [DBSubnetGroupName in API
        action CreateDBInstanceReadReplica](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstanceReadReplica.html)
        for additional read replica contraints.
    deleteAutomatedBackups:
      type: boolean
      description: |
        Specifies whether to remove automated backups immediately after the DB instance is deleted. Default is `true`.
    deletionProtection:
      type: boolean
      description: |
        If the DB instance should have deletion protection enabled. The database can't be deleted when this value is set to `true`. The default is `false`.
    domain:
      type: string
      description: |
        The ID of the Directory Service Active Directory domain to create the instance in.
    domainIamRoleName:
      type: string
      description: |
        The name of the IAM role to be used when making API calls to the Directory Service.
    enabledCloudwatchLogsExports:
      type: array
      items:
        type: string
      description: |
        Set of log types to enable for exporting to CloudWatch logs. If omitted, no logs will be exported. Valid values (depending on `engine`). MySQL and MariaDB: `audit`, `error`, `general`, `slowquery`. PostgreSQL: `postgresql`, `upgrade`. MSSQL: `agent` , `error`. Oracle: `alert`, `audit`, `listener`, `trace`.
    endpoint:
      type: string
      description: |
        The connection endpoint in `address:port` format.
    engine:
      type: string
      description: |
        (Required unless a `snapshot_identifier` or `replicate_source_db`
        is provided) The database engine to use.  For supported values, see the Engine parameter in [API action CreateDBInstance](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstance.html). Cannot be specified for a replica.
        Note that for Amazon Aurora instances the engine must match the DB cluster's engine'.
        For information on the difference between the available Aurora MySQL engines
        see [Comparison between Aurora MySQL 1 and Aurora MySQL 2](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/AuroraMySQL.Updates.20180206.html)
        in the Amazon RDS User Guide.
      willReplaceOnChanges: true
    engineVersion:
      type: string
      description: |
        The engine version to use. If `auto_minor_version_upgrade`
        is enabled, you can provide a prefix of the version such as `5.7` (for `5.7.10`).
        The actual engine version used is returned in the attribute `engine_version_actual`, see Attributes Reference below.
        For supported values, see the EngineVersion parameter in [API action CreateDBInstance](https://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateDBInstance.html).
        Note that for Amazon Aurora instances the engine version must match the DB cluster's engine version'. Cannot be specified for a replica.
    engineVersionActual:
      type: string
      description: |
        The running version of the database.
    finalSnapshotIdentifier:
      type: string
      description: |
        The name of your final DB snapshot
        when this DB instance is deleted. Must be provided if `skip_final_snapshot` is
        set to `false`. The value must begin with a letter, only contain alphanumeric characters and hyphens, and not end with a hyphen or contain two consecutive hyphens. Must not be provided when deleting a read replica.
    hostedZoneId:
      type: string
      description: |
        The canonical hosted zone ID of the DB instance (to be used
        in a Route 53 Alias record).
    iamDatabaseAuthenticationEnabled:
      type: boolean
      description: |
        Specifies whether or
        mappings of AWS Identity and Access Management (IAM) accounts to database
        accounts is enabled.
    identifier:
      type: string
      description: |
        The name of the RDS instance,
        if omitted, this provider will assign a random, unique identifier.
      willReplaceOnChanges: true
    identifierPrefix:
      type: string
      description: |
        Creates a unique
        identifier beginning with the specified prefix. Conflicts with `identifier`.
      willReplaceOnChanges: true
    instanceClass:
      type: string
      oneOf:
        - type: string
        - type: string
          $ref: "#/types/aws:rds/InstanceType:InstanceType"
      description: |
        The instance type of the RDS instance.
    iops:
      type: integer
      description: |
        The amount of provisioned IOPS. Setting this implies a
        storage_type of "io1".
    kmsKeyId:
      type: string
      description: |
        The ARN for the KMS encryption key. If creating an
        encrypted replica, set this to the destination KMS ARN.
      willReplaceOnChanges: true
    latestRestorableTime:
      type: string
      description: |
        The latest time, in UTC [RFC3339 format](https://tools.ietf.org/html/rfc3339#section-5.8), to which a database can be restored with point-in-time restore.
    licenseModel:
      type: string
      description: |
        (Optional, but required for some DB engines, i.e., Oracle
        SE1) License model information for this DB instance.
    maintenanceWindow:
      type: string
      description: |
        The window to perform maintenance in.
        Syntax: "ddd:hh24:mi-ddd:hh24:mi". Eg: "Mon:00:00-Mon:03:00". See [RDS
        Maintenance Window
        docs](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.Maintenance.html#AdjustingTheMaintenanceWindow)
        for more information.
    maxAllocatedStorage:
      type: integer
      description: |
        When configured, the upper limit to which Amazon RDS can automatically scale the storage of the DB instance. Configuring this will automatically ignore differences to `allocated_storage`. Must be greater than or equal to `allocated_storage` or `0` to disable Storage Autoscaling.
    monitoringInterval:
      type: integer
      description: |
        The interval, in seconds, between points
        when Enhanced Monitoring metrics are collected for the DB instance. To disable
        collecting Enhanced Monitoring metrics, specify 0. The default is 0. Valid
        Values: 0, 1, 5, 10, 15, 30, 60.
    monitoringRoleArn:
      type: string
      description: |
        The ARN for the IAM role that permits RDS
        to send enhanced monitoring metrics to CloudWatch Logs. You can find more
        information on the [AWS
        Documentation](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_Monitoring.html)
        what IAM permissions are needed to allow Enhanced Monitoring for RDS Instances.
    multiAz:
      type: boolean
      description: |
        Specifies if the RDS instance is multi-AZ
    name:
      type: string
      description: |
        The name of the database to create when the DB instance is created. If this parameter is not specified, no database is created in the DB instance. Note that this does not apply for Oracle or SQL Server engines. See the [AWS documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/rds/create-db-instance.html) for more details on what applies for those engines. If you are providing an Oracle db name, it needs to be in all upper case. Cannot be specified for a replica.
      deprecationMessage: Use db_name instead
      willReplaceOnChanges: true
    ncharCharacterSetName:
      type: string
      description: |
        The national character set is used in the NCHAR, NVARCHAR2, and NCLOB data types for Oracle instances. This can't be changed. See [Oracle Character Sets
        Supported in Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.OracleCharacterSets.html).
      willReplaceOnChanges: true
    networkType:
      type: string
      description: |
        The network type of the DB instance. Valid values: `IPV4`, `DUAL`.
    optionGroupName:
      type: string
      description: |
        Name of the DB option group to associate.
    parameterGroupName:
      type: string
      description: |
        Name of the DB parameter group to
        associate.
    password:
      type: string
      description: |
        (Required unless a `snapshot_identifier` or `replicate_source_db`
        is provided) Password for the master DB user. Note that this may show up in
        logs, and it will be stored in the state file.
    performanceInsightsEnabled:
      type: boolean
      description: |
        Specifies whether Performance Insights are enabled. Defaults to false.
    performanceInsightsKmsKeyId:
      type: string
      description: |
        The ARN for the KMS key to encrypt Performance Insights data. When specifying `performance_insights_kms_key_id`, `performance_insights_enabled` needs to be set to true. Once KMS key is set, it can never be changed.
    performanceInsightsRetentionPeriod:
      type: integer
      description: |
        Amount of time in days to retain Performance Insights data. Valid values are `7`, `731` (2 years) or a multiple of `31`. When specifying `performance_insights_retention_period`, `performance_insights_enabled` needs to be set to true. Defaults to '7'.
    port:
      type: integer
      description: |
        The port on which the DB accepts connections.
    publiclyAccessible:
      type: boolean
      description: |
        Bool to control if instance is publicly
        accessible. Default is `false`.
    replicaMode:
      type: string
      description: |
        Specifies whether the replica is in either `mounted` or `open-read-only` mode. This attribute
        is only supported by Oracle instances. Oracle replicas operate in `open-read-only` mode unless otherwise specified. See [Working with Oracle Read Replicas](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/oracle-read-replicas.html) for more information.
    replicas:
      type: array
      items:
        type: string
    replicateSourceDb:
      type: string
      description: |
        Specifies that this resource is a Replicate
        database, and to use this value as the source database. This correlates to the
        `identifier` of another Amazon RDS Database to replicate (if replicating within
        a single region) or ARN of the Amazon RDS Database to replicate (if replicating
        cross-region). Note that if you are
        creating a cross-region replica of an encrypted database you will also need to
        specify a `kms_key_id`. See [DB Instance Replication][1] and [Working with
        PostgreSQL and MySQL Read Replicas](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_ReadRepl.html)
        for more information on using Replication.
    resourceId:
      type: string
      description: |
        The RDS Resource ID of this instance.
    restoreToPointInTime:
      $ref: "#/types/aws:rds/InstanceRestoreToPointInTime:InstanceRestoreToPointInTime"
      description: |
        A configuration block for restoring a DB instance to an arbitrary point in time. Requires the `identifier` argument to be set with the name of the new DB instance to be created. See Restore To Point In Time below for details.
      willReplaceOnChanges: true
    s3Import:
      $ref: "#/types/aws:rds/InstanceS3Import:InstanceS3Import"
      description: |
        Restore from a Percona Xtrabackup in S3.  See [Importing Data into an Amazon RDS MySQL DB Instance](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/MySQL.Procedural.Importing.html)
    securityGroupNames:
      type: array
      items:
        type: string
      description: |
        List of DB Security Groups to
        associate. Only used for [DB Instances on the _EC2-Classic_
        Platform](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_VPC.html#USER_VPC.FindDefaultVPC).
      deprecationMessage: With the retirement of EC2-Classic the security_group_names attribute has been deprecated and will be removed in a future version.
    skipFinalSnapshot:
      type: boolean
      description: |
        Determines whether a final DB snapshot is
        created before the DB instance is deleted. If true is specified, no DBSnapshot
        is created. If false is specified, a DB snapshot is created before the DB
        instance is deleted, using the value from `final_snapshot_identifier`. Default
        is `false`.
    snapshotIdentifier:
      type: string
      description: |
        Specifies whether or not to create this
        database from a snapshot. This correlates to the snapshot ID you'd find in the
        RDS console, e.g: rds:production-2015-06-26-06-05.
      willReplaceOnChanges: true
    status:
      type: string
      description: |
        The RDS instance status.
    storageEncrypted:
      type: boolean
      description: |
        Specifies whether the DB instance is
        encrypted. Note that if you are creating a cross-region read replica this field
        is ignored and you should instead declare `kms_key_id` with a valid ARN. The
        default is `false` if not specified.
      willReplaceOnChanges: true
    storageType:
      type: string
      oneOf:
        - type: string
        - type: string
          $ref: "#/types/aws:rds/StorageType:StorageType"
      description: |
        One of "standard" (magnetic), "gp2" (general
        purpose SSD), or "io1" (provisioned IOPS SSD). The default is "io1" if `iops` is
        specified, "gp2" if not.
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags to assign to the resource. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
    timezone:
      type: string
      description: |
        Time zone of the DB instance. `timezone` is currently
        only supported by Microsoft SQL Server. The `timezone` can only be set on
        creation. See [MSSQL User
        Guide](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_SQLServer.html#SQLServer.Concepts.General.TimeZone)
        for more information.
      willReplaceOnChanges: true
    username:
      type: string
      description: |
        (Required unless a `snapshot_identifier` or `replicate_source_db`
        is provided) Username for the master DB user. Cannot be specified for a replica.
      willReplaceOnChanges: true
    vpcSecurityGroupIds:
      type: array
      items:
        type: string
      description: |
        List of VPC security groups to
        associate.
  type: object
