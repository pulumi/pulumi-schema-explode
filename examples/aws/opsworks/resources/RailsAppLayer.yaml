$token: aws:opsworks/railsAppLayer:RailsAppLayer
properties:
  appServer:
    type: string
    description: |
      Keyword for the app server to use. Defaults to "apache_passenger".
  arn:
    type: string
    description: |
      The Amazon Resource Name(ARN) of the layer.
  autoAssignElasticIps:
    type: boolean
    description: |
      Whether to automatically assign an elastic IP address to the layer's instances.
  autoAssignPublicIps:
    type: boolean
    description: |
      For stacks belonging to a VPC, whether to automatically assign a public IP address to each of the layer's instances.
  autoHealing:
    type: boolean
    description: |
      Whether to enable auto-healing for the layer.
  bundlerVersion:
    type: string
    description: |
      When OpsWorks is managing Bundler, which version to use. Defaults to "1.5.3".
  cloudwatchConfiguration:
    $ref: "#/types/aws:opsworks/RailsAppLayerCloudwatchConfiguration:RailsAppLayerCloudwatchConfiguration"
  customConfigureRecipes:
    type: array
    items:
      type: string
  customDeployRecipes:
    type: array
    items:
      type: string
  customInstanceProfileArn:
    type: string
    description: |
      The ARN of an IAM profile that will be used for the layer's instances.
  customJson:
    type: string
    description: |
      Custom JSON attributes to apply to the layer.
  customSecurityGroupIds:
    type: array
    items:
      type: string
    description: |
      Ids for a set of security groups to apply to the layer's instances.
  customSetupRecipes:
    type: array
    items:
      type: string
  customShutdownRecipes:
    type: array
    items:
      type: string
  customUndeployRecipes:
    type: array
    items:
      type: string
  drainElbOnShutdown:
    type: boolean
    description: |
      Whether to enable Elastic Load Balancing connection draining.
  ebsVolumes:
    type: array
    items:
      $ref: "#/types/aws:opsworks/RailsAppLayerEbsVolume:RailsAppLayerEbsVolume"
    description: |
      `ebs_volume` blocks, as described below, will each create an EBS volume and connect it to the layer's instances.
  elasticLoadBalancer:
    type: string
    description: |
      Name of an Elastic Load Balancer to attach to this layer
  installUpdatesOnBoot:
    type: boolean
    description: |
      Whether to install OS and package updates on each instance when it boots.
  instanceShutdownTimeout:
    type: integer
    description: |
      The time, in seconds, that OpsWorks will wait for Chef to complete after triggering the Shutdown event.
  manageBundler:
    type: boolean
    description: |
      Whether OpsWorks should manage bundler. On by default.
  name:
    type: string
    description: |
      A human-readable name for the layer.
  passengerVersion:
    type: string
    description: |
      The version of Passenger to use. Defaults to "4.0.46".
  rubyVersion:
    type: string
    description: |
      The version of Ruby to use. Defaults to "2.0.0".
  rubygemsVersion:
    type: string
    description: |
      The version of RubyGems to use. Defaults to "2.2.2".
  stackId:
    type: string
    description: |
      ID of the stack the layer will belong to.
  systemPackages:
    type: array
    items:
      type: string
    description: |
      Names of a set of system packages to install on the layer's instances.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the resource. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  useEbsOptimizedInstances:
    type: boolean
    description: |
      Whether to use EBS-optimized instances.
required:
  - arn
  - ebsVolumes
  - name
  - stackId
  - tagsAll
inputProperties:
  appServer:
    type: string
    description: |
      Keyword for the app server to use. Defaults to "apache_passenger".
  autoAssignElasticIps:
    type: boolean
    description: |
      Whether to automatically assign an elastic IP address to the layer's instances.
  autoAssignPublicIps:
    type: boolean
    description: |
      For stacks belonging to a VPC, whether to automatically assign a public IP address to each of the layer's instances.
  autoHealing:
    type: boolean
    description: |
      Whether to enable auto-healing for the layer.
  bundlerVersion:
    type: string
    description: |
      When OpsWorks is managing Bundler, which version to use. Defaults to "1.5.3".
  cloudwatchConfiguration:
    $ref: "#/types/aws:opsworks/RailsAppLayerCloudwatchConfiguration:RailsAppLayerCloudwatchConfiguration"
  customConfigureRecipes:
    type: array
    items:
      type: string
  customDeployRecipes:
    type: array
    items:
      type: string
  customInstanceProfileArn:
    type: string
    description: |
      The ARN of an IAM profile that will be used for the layer's instances.
  customJson:
    type: string
    description: |
      Custom JSON attributes to apply to the layer.
  customSecurityGroupIds:
    type: array
    items:
      type: string
    description: |
      Ids for a set of security groups to apply to the layer's instances.
  customSetupRecipes:
    type: array
    items:
      type: string
  customShutdownRecipes:
    type: array
    items:
      type: string
  customUndeployRecipes:
    type: array
    items:
      type: string
  drainElbOnShutdown:
    type: boolean
    description: |
      Whether to enable Elastic Load Balancing connection draining.
  ebsVolumes:
    type: array
    items:
      $ref: "#/types/aws:opsworks/RailsAppLayerEbsVolume:RailsAppLayerEbsVolume"
    description: |
      `ebs_volume` blocks, as described below, will each create an EBS volume and connect it to the layer's instances.
  elasticLoadBalancer:
    type: string
    description: |
      Name of an Elastic Load Balancer to attach to this layer
  installUpdatesOnBoot:
    type: boolean
    description: |
      Whether to install OS and package updates on each instance when it boots.
  instanceShutdownTimeout:
    type: integer
    description: |
      The time, in seconds, that OpsWorks will wait for Chef to complete after triggering the Shutdown event.
  manageBundler:
    type: boolean
    description: |
      Whether OpsWorks should manage bundler. On by default.
  name:
    type: string
    description: |
      A human-readable name for the layer.
  passengerVersion:
    type: string
    description: |
      The version of Passenger to use. Defaults to "4.0.46".
  rubyVersion:
    type: string
    description: |
      The version of Ruby to use. Defaults to "2.0.0".
  rubygemsVersion:
    type: string
    description: |
      The version of RubyGems to use. Defaults to "2.2.2".
  stackId:
    type: string
    description: |
      ID of the stack the layer will belong to.
    willReplaceOnChanges: true
  systemPackages:
    type: array
    items:
      type: string
    description: |
      Names of a set of system packages to install on the layer's instances.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the resource. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  useEbsOptimizedInstances:
    type: boolean
    description: |
      Whether to use EBS-optimized instances.
requiredInputs:
  - stackId
stateInputs:
  description: |
    Input properties used for looking up and filtering RailsAppLayer resources.
  properties:
    appServer:
      type: string
      description: |
        Keyword for the app server to use. Defaults to "apache_passenger".
    arn:
      type: string
      description: |
        The Amazon Resource Name(ARN) of the layer.
    autoAssignElasticIps:
      type: boolean
      description: |
        Whether to automatically assign an elastic IP address to the layer's instances.
    autoAssignPublicIps:
      type: boolean
      description: |
        For stacks belonging to a VPC, whether to automatically assign a public IP address to each of the layer's instances.
    autoHealing:
      type: boolean
      description: |
        Whether to enable auto-healing for the layer.
    bundlerVersion:
      type: string
      description: |
        When OpsWorks is managing Bundler, which version to use. Defaults to "1.5.3".
    cloudwatchConfiguration:
      $ref: "#/types/aws:opsworks/RailsAppLayerCloudwatchConfiguration:RailsAppLayerCloudwatchConfiguration"
    customConfigureRecipes:
      type: array
      items:
        type: string
    customDeployRecipes:
      type: array
      items:
        type: string
    customInstanceProfileArn:
      type: string
      description: |
        The ARN of an IAM profile that will be used for the layer's instances.
    customJson:
      type: string
      description: |
        Custom JSON attributes to apply to the layer.
    customSecurityGroupIds:
      type: array
      items:
        type: string
      description: |
        Ids for a set of security groups to apply to the layer's instances.
    customSetupRecipes:
      type: array
      items:
        type: string
    customShutdownRecipes:
      type: array
      items:
        type: string
    customUndeployRecipes:
      type: array
      items:
        type: string
    drainElbOnShutdown:
      type: boolean
      description: |
        Whether to enable Elastic Load Balancing connection draining.
    ebsVolumes:
      type: array
      items:
        $ref: "#/types/aws:opsworks/RailsAppLayerEbsVolume:RailsAppLayerEbsVolume"
      description: |
        `ebs_volume` blocks, as described below, will each create an EBS volume and connect it to the layer's instances.
    elasticLoadBalancer:
      type: string
      description: |
        Name of an Elastic Load Balancer to attach to this layer
    installUpdatesOnBoot:
      type: boolean
      description: |
        Whether to install OS and package updates on each instance when it boots.
    instanceShutdownTimeout:
      type: integer
      description: |
        The time, in seconds, that OpsWorks will wait for Chef to complete after triggering the Shutdown event.
    manageBundler:
      type: boolean
      description: |
        Whether OpsWorks should manage bundler. On by default.
    name:
      type: string
      description: |
        A human-readable name for the layer.
    passengerVersion:
      type: string
      description: |
        The version of Passenger to use. Defaults to "4.0.46".
    rubyVersion:
      type: string
      description: |
        The version of Ruby to use. Defaults to "2.0.0".
    rubygemsVersion:
      type: string
      description: |
        The version of RubyGems to use. Defaults to "2.2.2".
    stackId:
      type: string
      description: |
        ID of the stack the layer will belong to.
      willReplaceOnChanges: true
    systemPackages:
      type: array
      items:
        type: string
      description: |
        Names of a set of system packages to install on the layer's instances.
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags to assign to the resource. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
    useEbsOptimizedInstances:
      type: boolean
      description: |
        Whether to use EBS-optimized instances.
  type: object
