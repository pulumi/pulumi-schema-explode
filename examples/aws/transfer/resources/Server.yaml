$token: aws:transfer/server:Server
properties:
  arn:
    type: string
    description: |
      Amazon Resource Name (ARN) of Transfer Server
  certificate:
    type: string
    description: |
      The Amazon Resource Name (ARN) of the AWS Certificate Manager (ACM) certificate. This is required when `protocols` is set to `FTPS`
  directoryId:
    type: string
    description: |
      The directory service ID of the directory service you want to connect to with an `identity_provider_type` of `AWS_DIRECTORY_SERVICE`.
  domain:
    type: string
    description: |
      The domain of the storage system that is used for file transfers. Valid values are: `S3` and `EFS`. The default value is `S3`.
  endpoint:
    type: string
    description: |
      The endpoint of the Transfer Server (e.g., `s-12345678.server.transfer.REGION.amazonaws.com`)
  endpointDetails:
    $ref: "#/types/aws:transfer/ServerEndpointDetails:ServerEndpointDetails"
    description: |
      The virtual private cloud (VPC) endpoint settings that you want to configure for your SFTP server. Fields documented below.
  endpointType:
    type: string
    description: |
      The type of endpoint that you want your SFTP server connect to. If you connect to a `VPC` (or `VPC_ENDPOINT`), your SFTP server isn't accessible over the public internet. If you want to connect your SFTP server via public internet, set `PUBLIC`.  Defaults to `PUBLIC`.
  forceDestroy:
    type: boolean
    description: |
      A boolean that indicates all users associated with the server should be deleted so that the Server can be destroyed without error. The default value is `false`. This option only applies to servers configured with a `SERVICE_MANAGED` `identity_provider_type`.
  function:
    type: string
    description: |
      The ARN for a lambda function to use for the Identity provider.
  hostKey:
    type: string
    description: |
      RSA private key (e.g., as generated by the `ssh-keygen -N "" -m PEM -f my-new-server-key` command).
  hostKeyFingerprint:
    type: string
    description: |
      This value contains the message-digest algorithm (MD5) hash of the server's host key. This value is equivalent to the output of the `ssh-keygen -l -E md5 -f my-new-server-key` command.
  identityProviderType:
    type: string
    description: |
      The mode of authentication enabled for this service. The default value is `SERVICE_MANAGED`, which allows you to store and access SFTP user credentials within the service. `API_GATEWAY` indicates that user authentication requires a call to an API Gateway endpoint URL provided by you to integrate an identity provider of your choice. Using `AWS_DIRECTORY_SERVICE` will allow for authentication against AWS Managed Active Directory or Microsoft Active Directory in your on-premises environment, or in AWS using AD Connectors. Use the `AWS_LAMBDA` value to directly use a Lambda function as your identity provider. If you choose this value, you must specify the ARN for the lambda function in the `function` argument.
  invocationRole:
    type: string
    description: |
      Amazon Resource Name (ARN) of the IAM role used to authenticate the user account with an `identity_provider_type` of `API_GATEWAY`.
  loggingRole:
    type: string
    description: |
      Amazon Resource Name (ARN) of an IAM role that allows the service to write your SFTP users’ activity to your Amazon CloudWatch logs for monitoring and auditing purposes.
  postAuthenticationLoginBanner:
    type: string
    description: |
      Specify a string to display when users connect to a server. This string is displayed after the user authenticates. The SFTP protocol does not support post-authentication display banners.
  preAuthenticationLoginBanner:
    type: string
    description: |
      Specify a string to display when users connect to a server. This string is displayed before the user authenticates.
  protocols:
    type: array
    items:
      type: string
    description: |
      Specifies the file transfer protocol or protocols over which your file transfer protocol client can connect to your server's endpoint. This defaults to `SFTP` . The available protocols are:
      * `AS2`: File transfer over Applicability Statement 2
      * `SFTP`: File transfer over SSH
      * `FTPS`: File transfer with TLS encryption
      * `FTP`: Unencrypted file transfer
  securityPolicyName:
    type: string
    description: |
      Specifies the name of the security policy that is attached to the server. Possible values are `TransferSecurityPolicy-2018-11`, `TransferSecurityPolicy-2020-06`, `TransferSecurityPolicy-FIPS-2020-06` and `TransferSecurityPolicy-2022-03`. Default value is: `TransferSecurityPolicy-2018-11`.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  url:
    type: string
    description: |
      - URL of the service endpoint used to authenticate users with an `identity_provider_type` of `API_GATEWAY`.
  workflowDetails:
    $ref: "#/types/aws:transfer/ServerWorkflowDetails:ServerWorkflowDetails"
    description: |
      Specifies the workflow details. See Workflow Details below.
required:
  - arn
  - endpoint
  - hostKeyFingerprint
  - protocols
  - tagsAll
inputProperties:
  certificate:
    type: string
    description: |
      The Amazon Resource Name (ARN) of the AWS Certificate Manager (ACM) certificate. This is required when `protocols` is set to `FTPS`
  directoryId:
    type: string
    description: |
      The directory service ID of the directory service you want to connect to with an `identity_provider_type` of `AWS_DIRECTORY_SERVICE`.
  domain:
    type: string
    description: |
      The domain of the storage system that is used for file transfers. Valid values are: `S3` and `EFS`. The default value is `S3`.
    willReplaceOnChanges: true
  endpointDetails:
    $ref: "#/types/aws:transfer/ServerEndpointDetails:ServerEndpointDetails"
    description: |
      The virtual private cloud (VPC) endpoint settings that you want to configure for your SFTP server. Fields documented below.
  endpointType:
    type: string
    description: |
      The type of endpoint that you want your SFTP server connect to. If you connect to a `VPC` (or `VPC_ENDPOINT`), your SFTP server isn't accessible over the public internet. If you want to connect your SFTP server via public internet, set `PUBLIC`.  Defaults to `PUBLIC`.
  forceDestroy:
    type: boolean
    description: |
      A boolean that indicates all users associated with the server should be deleted so that the Server can be destroyed without error. The default value is `false`. This option only applies to servers configured with a `SERVICE_MANAGED` `identity_provider_type`.
  function:
    type: string
    description: |
      The ARN for a lambda function to use for the Identity provider.
  hostKey:
    type: string
    description: |
      RSA private key (e.g., as generated by the `ssh-keygen -N "" -m PEM -f my-new-server-key` command).
  identityProviderType:
    type: string
    description: |
      The mode of authentication enabled for this service. The default value is `SERVICE_MANAGED`, which allows you to store and access SFTP user credentials within the service. `API_GATEWAY` indicates that user authentication requires a call to an API Gateway endpoint URL provided by you to integrate an identity provider of your choice. Using `AWS_DIRECTORY_SERVICE` will allow for authentication against AWS Managed Active Directory or Microsoft Active Directory in your on-premises environment, or in AWS using AD Connectors. Use the `AWS_LAMBDA` value to directly use a Lambda function as your identity provider. If you choose this value, you must specify the ARN for the lambda function in the `function` argument.
    willReplaceOnChanges: true
  invocationRole:
    type: string
    description: |
      Amazon Resource Name (ARN) of the IAM role used to authenticate the user account with an `identity_provider_type` of `API_GATEWAY`.
  loggingRole:
    type: string
    description: |
      Amazon Resource Name (ARN) of an IAM role that allows the service to write your SFTP users’ activity to your Amazon CloudWatch logs for monitoring and auditing purposes.
  postAuthenticationLoginBanner:
    type: string
    description: |
      Specify a string to display when users connect to a server. This string is displayed after the user authenticates. The SFTP protocol does not support post-authentication display banners.
  preAuthenticationLoginBanner:
    type: string
    description: |
      Specify a string to display when users connect to a server. This string is displayed before the user authenticates.
  protocols:
    type: array
    items:
      type: string
    description: |
      Specifies the file transfer protocol or protocols over which your file transfer protocol client can connect to your server's endpoint. This defaults to `SFTP` . The available protocols are:
      * `AS2`: File transfer over Applicability Statement 2
      * `SFTP`: File transfer over SSH
      * `FTPS`: File transfer with TLS encryption
      * `FTP`: Unencrypted file transfer
  securityPolicyName:
    type: string
    description: |
      Specifies the name of the security policy that is attached to the server. Possible values are `TransferSecurityPolicy-2018-11`, `TransferSecurityPolicy-2020-06`, `TransferSecurityPolicy-FIPS-2020-06` and `TransferSecurityPolicy-2022-03`. Default value is: `TransferSecurityPolicy-2018-11`.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  url:
    type: string
    description: |
      - URL of the service endpoint used to authenticate users with an `identity_provider_type` of `API_GATEWAY`.
  workflowDetails:
    $ref: "#/types/aws:transfer/ServerWorkflowDetails:ServerWorkflowDetails"
    description: |
      Specifies the workflow details. See Workflow Details below.
stateInputs:
  description: |
    Input properties used for looking up and filtering Server resources.
  properties:
    arn:
      type: string
      description: |
        Amazon Resource Name (ARN) of Transfer Server
    certificate:
      type: string
      description: |
        The Amazon Resource Name (ARN) of the AWS Certificate Manager (ACM) certificate. This is required when `protocols` is set to `FTPS`
    directoryId:
      type: string
      description: |
        The directory service ID of the directory service you want to connect to with an `identity_provider_type` of `AWS_DIRECTORY_SERVICE`.
    domain:
      type: string
      description: |
        The domain of the storage system that is used for file transfers. Valid values are: `S3` and `EFS`. The default value is `S3`.
      willReplaceOnChanges: true
    endpoint:
      type: string
      description: |
        The endpoint of the Transfer Server (e.g., `s-12345678.server.transfer.REGION.amazonaws.com`)
    endpointDetails:
      $ref: "#/types/aws:transfer/ServerEndpointDetails:ServerEndpointDetails"
      description: |
        The virtual private cloud (VPC) endpoint settings that you want to configure for your SFTP server. Fields documented below.
    endpointType:
      type: string
      description: |
        The type of endpoint that you want your SFTP server connect to. If you connect to a `VPC` (or `VPC_ENDPOINT`), your SFTP server isn't accessible over the public internet. If you want to connect your SFTP server via public internet, set `PUBLIC`.  Defaults to `PUBLIC`.
    forceDestroy:
      type: boolean
      description: |
        A boolean that indicates all users associated with the server should be deleted so that the Server can be destroyed without error. The default value is `false`. This option only applies to servers configured with a `SERVICE_MANAGED` `identity_provider_type`.
    function:
      type: string
      description: |
        The ARN for a lambda function to use for the Identity provider.
    hostKey:
      type: string
      description: |
        RSA private key (e.g., as generated by the `ssh-keygen -N "" -m PEM -f my-new-server-key` command).
    hostKeyFingerprint:
      type: string
      description: |
        This value contains the message-digest algorithm (MD5) hash of the server's host key. This value is equivalent to the output of the `ssh-keygen -l -E md5 -f my-new-server-key` command.
    identityProviderType:
      type: string
      description: |
        The mode of authentication enabled for this service. The default value is `SERVICE_MANAGED`, which allows you to store and access SFTP user credentials within the service. `API_GATEWAY` indicates that user authentication requires a call to an API Gateway endpoint URL provided by you to integrate an identity provider of your choice. Using `AWS_DIRECTORY_SERVICE` will allow for authentication against AWS Managed Active Directory or Microsoft Active Directory in your on-premises environment, or in AWS using AD Connectors. Use the `AWS_LAMBDA` value to directly use a Lambda function as your identity provider. If you choose this value, you must specify the ARN for the lambda function in the `function` argument.
      willReplaceOnChanges: true
    invocationRole:
      type: string
      description: |
        Amazon Resource Name (ARN) of the IAM role used to authenticate the user account with an `identity_provider_type` of `API_GATEWAY`.
    loggingRole:
      type: string
      description: |
        Amazon Resource Name (ARN) of an IAM role that allows the service to write your SFTP users’ activity to your Amazon CloudWatch logs for monitoring and auditing purposes.
    postAuthenticationLoginBanner:
      type: string
      description: |
        Specify a string to display when users connect to a server. This string is displayed after the user authenticates. The SFTP protocol does not support post-authentication display banners.
    preAuthenticationLoginBanner:
      type: string
      description: |
        Specify a string to display when users connect to a server. This string is displayed before the user authenticates.
    protocols:
      type: array
      items:
        type: string
      description: |
        Specifies the file transfer protocol or protocols over which your file transfer protocol client can connect to your server's endpoint. This defaults to `SFTP` . The available protocols are:
        * `AS2`: File transfer over Applicability Statement 2
        * `SFTP`: File transfer over SSH
        * `FTPS`: File transfer with TLS encryption
        * `FTP`: Unencrypted file transfer
    securityPolicyName:
      type: string
      description: |
        Specifies the name of the security policy that is attached to the server. Possible values are `TransferSecurityPolicy-2018-11`, `TransferSecurityPolicy-2020-06`, `TransferSecurityPolicy-FIPS-2020-06` and `TransferSecurityPolicy-2022-03`. Default value is: `TransferSecurityPolicy-2018-11`.
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
    url:
      type: string
      description: |
        - URL of the service endpoint used to authenticate users with an `identity_provider_type` of `API_GATEWAY`.
    workflowDetails:
      $ref: "#/types/aws:transfer/ServerWorkflowDetails:ServerWorkflowDetails"
      description: |
        Specifies the workflow details. See Workflow Details below.
  type: object
