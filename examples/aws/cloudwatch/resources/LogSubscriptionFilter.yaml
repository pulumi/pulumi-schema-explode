$token: aws:cloudwatch/logSubscriptionFilter:LogSubscriptionFilter
properties:
  destinationArn:
    type: string
    description: |
      The ARN of the destination to deliver matching log events to. Kinesis stream or Lambda function ARN.
  distribution:
    type: string
    description: |
      The method used to distribute log data to the destination. By default log data is grouped by log stream, but the grouping can be set to random for a more even distribution. This property is only applicable when the destination is an Amazon Kinesis stream. Valid values are "Random" and "ByLogStream".
  filterPattern:
    type: string
    description: |
      A valid CloudWatch Logs filter pattern for subscribing to a filtered stream of log events. Use empty string `""` to match everything. For more information, see the [Amazon CloudWatch Logs User Guide](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html).
  logGroup:
    type: string
    description: |
      The name of the log group to associate the subscription filter with
  name:
    type: string
    description: |
      A name for the subscription filter
  roleArn:
    type: string
    description: |
      The ARN of an IAM role that grants Amazon CloudWatch Logs permissions to deliver ingested log events to the destination. If you use Lambda as a destination, you should skip this argument and use `aws.lambda.Permission` resource for granting access from CloudWatch logs to the destination Lambda function.
required:
  - destinationArn
  - filterPattern
  - logGroup
  - name
  - roleArn
inputProperties:
  destinationArn:
    type: string
    description: |
      The ARN of the destination to deliver matching log events to. Kinesis stream or Lambda function ARN.
    willReplaceOnChanges: true
  distribution:
    type: string
    description: |
      The method used to distribute log data to the destination. By default log data is grouped by log stream, but the grouping can be set to random for a more even distribution. This property is only applicable when the destination is an Amazon Kinesis stream. Valid values are "Random" and "ByLogStream".
  filterPattern:
    type: string
    description: |
      A valid CloudWatch Logs filter pattern for subscribing to a filtered stream of log events. Use empty string `""` to match everything. For more information, see the [Amazon CloudWatch Logs User Guide](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html).
  logGroup:
    type: string
    oneOf:
      - type: string
      - type: string
        $ref: "#/types/aws:cloudwatch/logGroup:LogGroup"
    description: |
      The name of the log group to associate the subscription filter with
    willReplaceOnChanges: true
  name:
    type: string
    description: |
      A name for the subscription filter
    willReplaceOnChanges: true
  roleArn:
    type: string
    description: |
      The ARN of an IAM role that grants Amazon CloudWatch Logs permissions to deliver ingested log events to the destination. If you use Lambda as a destination, you should skip this argument and use `aws.lambda.Permission` resource for granting access from CloudWatch logs to the destination Lambda function.
requiredInputs:
  - destinationArn
  - filterPattern
  - logGroup
stateInputs:
  description: |
    Input properties used for looking up and filtering LogSubscriptionFilter resources.
  properties:
    destinationArn:
      type: string
      description: |
        The ARN of the destination to deliver matching log events to. Kinesis stream or Lambda function ARN.
      willReplaceOnChanges: true
    distribution:
      type: string
      description: |
        The method used to distribute log data to the destination. By default log data is grouped by log stream, but the grouping can be set to random for a more even distribution. This property is only applicable when the destination is an Amazon Kinesis stream. Valid values are "Random" and "ByLogStream".
    filterPattern:
      type: string
      description: |
        A valid CloudWatch Logs filter pattern for subscribing to a filtered stream of log events. Use empty string `""` to match everything. For more information, see the [Amazon CloudWatch Logs User Guide](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html).
    logGroup:
      type: string
      oneOf:
        - type: string
        - type: string
          $ref: "#/types/aws:cloudwatch/logGroup:LogGroup"
      description: |
        The name of the log group to associate the subscription filter with
      willReplaceOnChanges: true
    name:
      type: string
      description: |
        A name for the subscription filter
      willReplaceOnChanges: true
    roleArn:
      type: string
      description: |
        The ARN of an IAM role that grants Amazon CloudWatch Logs permissions to deliver ingested log events to the destination. If you use Lambda as a destination, you should skip this argument and use `aws.lambda.Permission` resource for granting access from CloudWatch logs to the destination Lambda function.
  type: object
