$token: aws:iot/topicRule:TopicRule
properties:
  arn:
    type: string
    description: |
      The ARN of the topic rule
  cloudwatchAlarm:
    $ref: "#/types/aws:iot/TopicRuleCloudwatchAlarm:TopicRuleCloudwatchAlarm"
  cloudwatchLogs:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleCloudwatchLog:TopicRuleCloudwatchLog"
  cloudwatchMetric:
    $ref: "#/types/aws:iot/TopicRuleCloudwatchMetric:TopicRuleCloudwatchMetric"
  description:
    type: string
    description: |
      The description of the rule.
  dynamodb:
    $ref: "#/types/aws:iot/TopicRuleDynamodb:TopicRuleDynamodb"
  dynamodbv2s:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleDynamodbv2:TopicRuleDynamodbv2"
  elasticsearch:
    $ref: "#/types/aws:iot/TopicRuleElasticsearch:TopicRuleElasticsearch"
  enabled:
    type: boolean
    description: |
      Specifies whether the rule is enabled.
  errorAction:
    $ref: "#/types/aws:iot/TopicRuleErrorAction:TopicRuleErrorAction"
    description: |
      Configuration block with error action to be associated with the rule. See the documentation for `cloudwatch_alarm`, `cloudwatch_logs`, `cloudwatch_metric`, `dynamodb`, `dynamodbv2`, `elasticsearch`, `firehose`, `http`, `iot_analytics`, `iot_events`, `kafka`, `kinesis`, `lambda`, `republish`, `s3`, `sns`, `sqs`, `step_functions`, `timestream` configuration blocks for further configuration details.
  firehose:
    $ref: "#/types/aws:iot/TopicRuleFirehose:TopicRuleFirehose"
  https:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleHttp:TopicRuleHttp"
  iotAnalytics:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleIotAnalytic:TopicRuleIotAnalytic"
  iotEvents:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleIotEvent:TopicRuleIotEvent"
  kafkas:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleKafka:TopicRuleKafka"
  kinesis:
    $ref: "#/types/aws:iot/TopicRuleKinesis:TopicRuleKinesis"
  lambda:
    $ref: "#/types/aws:iot/TopicRuleLambda:TopicRuleLambda"
  name:
    type: string
    description: |
      The name of the rule.
  republish:
    $ref: "#/types/aws:iot/TopicRuleRepublish:TopicRuleRepublish"
  s3:
    $ref: "#/types/aws:iot/TopicRuleS3:TopicRuleS3"
  sns:
    $ref: "#/types/aws:iot/TopicRuleSns:TopicRuleSns"
  sql:
    type: string
    description: |
      The SQL statement used to query the topic. For more information, see AWS IoT SQL Reference (http://docs.aws.amazon.com/iot/latest/developerguide/iot-rules.html#aws-iot-sql-reference) in the AWS IoT Developer Guide.
  sqlVersion:
    type: string
    description: |
      The version of the SQL rules engine to use when evaluating the rule.
  sqs:
    $ref: "#/types/aws:iot/TopicRuleSqs:TopicRuleSqs"
  stepFunctions:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleStepFunction:TopicRuleStepFunction"
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Key-value map of resource tags. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  timestreams:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleTimestream:TopicRuleTimestream"
required:
  - arn
  - enabled
  - name
  - sql
  - sqlVersion
  - tagsAll
inputProperties:
  cloudwatchAlarm:
    $ref: "#/types/aws:iot/TopicRuleCloudwatchAlarm:TopicRuleCloudwatchAlarm"
  cloudwatchLogs:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleCloudwatchLog:TopicRuleCloudwatchLog"
  cloudwatchMetric:
    $ref: "#/types/aws:iot/TopicRuleCloudwatchMetric:TopicRuleCloudwatchMetric"
  description:
    type: string
    description: |
      The description of the rule.
  dynamodb:
    $ref: "#/types/aws:iot/TopicRuleDynamodb:TopicRuleDynamodb"
  dynamodbv2s:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleDynamodbv2:TopicRuleDynamodbv2"
  elasticsearch:
    $ref: "#/types/aws:iot/TopicRuleElasticsearch:TopicRuleElasticsearch"
  enabled:
    type: boolean
    description: |
      Specifies whether the rule is enabled.
  errorAction:
    $ref: "#/types/aws:iot/TopicRuleErrorAction:TopicRuleErrorAction"
    description: |
      Configuration block with error action to be associated with the rule. See the documentation for `cloudwatch_alarm`, `cloudwatch_logs`, `cloudwatch_metric`, `dynamodb`, `dynamodbv2`, `elasticsearch`, `firehose`, `http`, `iot_analytics`, `iot_events`, `kafka`, `kinesis`, `lambda`, `republish`, `s3`, `sns`, `sqs`, `step_functions`, `timestream` configuration blocks for further configuration details.
  firehose:
    $ref: "#/types/aws:iot/TopicRuleFirehose:TopicRuleFirehose"
  https:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleHttp:TopicRuleHttp"
  iotAnalytics:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleIotAnalytic:TopicRuleIotAnalytic"
  iotEvents:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleIotEvent:TopicRuleIotEvent"
  kafkas:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleKafka:TopicRuleKafka"
  kinesis:
    $ref: "#/types/aws:iot/TopicRuleKinesis:TopicRuleKinesis"
  lambda:
    $ref: "#/types/aws:iot/TopicRuleLambda:TopicRuleLambda"
  name:
    type: string
    description: |
      The name of the rule.
    willReplaceOnChanges: true
  republish:
    $ref: "#/types/aws:iot/TopicRuleRepublish:TopicRuleRepublish"
  s3:
    $ref: "#/types/aws:iot/TopicRuleS3:TopicRuleS3"
  sns:
    $ref: "#/types/aws:iot/TopicRuleSns:TopicRuleSns"
  sql:
    type: string
    description: |
      The SQL statement used to query the topic. For more information, see AWS IoT SQL Reference (http://docs.aws.amazon.com/iot/latest/developerguide/iot-rules.html#aws-iot-sql-reference) in the AWS IoT Developer Guide.
  sqlVersion:
    type: string
    description: |
      The version of the SQL rules engine to use when evaluating the rule.
  sqs:
    $ref: "#/types/aws:iot/TopicRuleSqs:TopicRuleSqs"
  stepFunctions:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleStepFunction:TopicRuleStepFunction"
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Key-value map of resource tags. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  timestreams:
    type: array
    items:
      $ref: "#/types/aws:iot/TopicRuleTimestream:TopicRuleTimestream"
requiredInputs:
  - enabled
  - sql
  - sqlVersion
stateInputs:
  description: |
    Input properties used for looking up and filtering TopicRule resources.
  properties:
    arn:
      type: string
      description: |
        The ARN of the topic rule
    cloudwatchAlarm:
      $ref: "#/types/aws:iot/TopicRuleCloudwatchAlarm:TopicRuleCloudwatchAlarm"
    cloudwatchLogs:
      type: array
      items:
        $ref: "#/types/aws:iot/TopicRuleCloudwatchLog:TopicRuleCloudwatchLog"
    cloudwatchMetric:
      $ref: "#/types/aws:iot/TopicRuleCloudwatchMetric:TopicRuleCloudwatchMetric"
    description:
      type: string
      description: |
        The description of the rule.
    dynamodb:
      $ref: "#/types/aws:iot/TopicRuleDynamodb:TopicRuleDynamodb"
    dynamodbv2s:
      type: array
      items:
        $ref: "#/types/aws:iot/TopicRuleDynamodbv2:TopicRuleDynamodbv2"
    elasticsearch:
      $ref: "#/types/aws:iot/TopicRuleElasticsearch:TopicRuleElasticsearch"
    enabled:
      type: boolean
      description: |
        Specifies whether the rule is enabled.
    errorAction:
      $ref: "#/types/aws:iot/TopicRuleErrorAction:TopicRuleErrorAction"
      description: |
        Configuration block with error action to be associated with the rule. See the documentation for `cloudwatch_alarm`, `cloudwatch_logs`, `cloudwatch_metric`, `dynamodb`, `dynamodbv2`, `elasticsearch`, `firehose`, `http`, `iot_analytics`, `iot_events`, `kafka`, `kinesis`, `lambda`, `republish`, `s3`, `sns`, `sqs`, `step_functions`, `timestream` configuration blocks for further configuration details.
    firehose:
      $ref: "#/types/aws:iot/TopicRuleFirehose:TopicRuleFirehose"
    https:
      type: array
      items:
        $ref: "#/types/aws:iot/TopicRuleHttp:TopicRuleHttp"
    iotAnalytics:
      type: array
      items:
        $ref: "#/types/aws:iot/TopicRuleIotAnalytic:TopicRuleIotAnalytic"
    iotEvents:
      type: array
      items:
        $ref: "#/types/aws:iot/TopicRuleIotEvent:TopicRuleIotEvent"
    kafkas:
      type: array
      items:
        $ref: "#/types/aws:iot/TopicRuleKafka:TopicRuleKafka"
    kinesis:
      $ref: "#/types/aws:iot/TopicRuleKinesis:TopicRuleKinesis"
    lambda:
      $ref: "#/types/aws:iot/TopicRuleLambda:TopicRuleLambda"
    name:
      type: string
      description: |
        The name of the rule.
      willReplaceOnChanges: true
    republish:
      $ref: "#/types/aws:iot/TopicRuleRepublish:TopicRuleRepublish"
    s3:
      $ref: "#/types/aws:iot/TopicRuleS3:TopicRuleS3"
    sns:
      $ref: "#/types/aws:iot/TopicRuleSns:TopicRuleSns"
    sql:
      type: string
      description: |
        The SQL statement used to query the topic. For more information, see AWS IoT SQL Reference (http://docs.aws.amazon.com/iot/latest/developerguide/iot-rules.html#aws-iot-sql-reference) in the AWS IoT Developer Guide.
    sqlVersion:
      type: string
      description: |
        The version of the SQL rules engine to use when evaluating the rule.
    sqs:
      $ref: "#/types/aws:iot/TopicRuleSqs:TopicRuleSqs"
    stepFunctions:
      type: array
      items:
        $ref: "#/types/aws:iot/TopicRuleStepFunction:TopicRuleStepFunction"
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        Key-value map of resource tags. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
    timestreams:
      type: array
      items:
        $ref: "#/types/aws:iot/TopicRuleTimestream:TopicRuleTimestream"
  type: object
