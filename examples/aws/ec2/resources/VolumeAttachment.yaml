$token: aws:ec2/volumeAttachment:VolumeAttachment
properties:
  deviceName:
    type: string
    description: |
      The device name to expose to the instance (for
      example, `/dev/sdh` or `xvdh`).  See [Device Naming on Linux Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/device_naming.html#available-ec2-device-names) and [Device Naming on Windows Instances](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/device_naming.html#available-ec2-device-names) for more information.
  forceDetach:
    type: boolean
    description: |
      Set to `true` if you want to force the
      volume to detach. Useful if previous attempts failed, but use this option only
      as a last resort, as this can result in **data loss**. See
      [Detaching an Amazon EBS Volume from an Instance](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html) for more information.
  instanceId:
    type: string
    description: |
      ID of the Instance to attach to
  skipDestroy:
    type: boolean
    description: |
      Set this to true if you do not wish
      to detach the volume from the instance to which it is attached at destroy
      time, and instead just remove the attachment from this provider state. This is
      useful when destroying an instance which has volumes created by some other
      means attached.
  stopInstanceBeforeDetaching:
    type: boolean
    description: |
      Set this to true to ensure that the target instance is stopped
      before trying to detach the volume. Stops the instance, if it is not already stopped.
  volumeId:
    type: string
    description: |
      ID of the Volume to be attached
required:
  - deviceName
  - instanceId
  - volumeId
inputProperties:
  deviceName:
    type: string
    description: |
      The device name to expose to the instance (for
      example, `/dev/sdh` or `xvdh`).  See [Device Naming on Linux Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/device_naming.html#available-ec2-device-names) and [Device Naming on Windows Instances](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/device_naming.html#available-ec2-device-names) for more information.
    willReplaceOnChanges: true
  forceDetach:
    type: boolean
    description: |
      Set to `true` if you want to force the
      volume to detach. Useful if previous attempts failed, but use this option only
      as a last resort, as this can result in **data loss**. See
      [Detaching an Amazon EBS Volume from an Instance](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html) for more information.
  instanceId:
    type: string
    description: |
      ID of the Instance to attach to
    willReplaceOnChanges: true
  skipDestroy:
    type: boolean
    description: |
      Set this to true if you do not wish
      to detach the volume from the instance to which it is attached at destroy
      time, and instead just remove the attachment from this provider state. This is
      useful when destroying an instance which has volumes created by some other
      means attached.
  stopInstanceBeforeDetaching:
    type: boolean
    description: |
      Set this to true to ensure that the target instance is stopped
      before trying to detach the volume. Stops the instance, if it is not already stopped.
  volumeId:
    type: string
    description: |
      ID of the Volume to be attached
    willReplaceOnChanges: true
requiredInputs:
  - deviceName
  - instanceId
  - volumeId
stateInputs:
  description: |
    Input properties used for looking up and filtering VolumeAttachment resources.
  properties:
    deviceName:
      type: string
      description: |
        The device name to expose to the instance (for
        example, `/dev/sdh` or `xvdh`).  See [Device Naming on Linux Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/device_naming.html#available-ec2-device-names) and [Device Naming on Windows Instances](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/device_naming.html#available-ec2-device-names) for more information.
      willReplaceOnChanges: true
    forceDetach:
      type: boolean
      description: |
        Set to `true` if you want to force the
        volume to detach. Useful if previous attempts failed, but use this option only
        as a last resort, as this can result in **data loss**. See
        [Detaching an Amazon EBS Volume from an Instance](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-detaching-volume.html) for more information.
    instanceId:
      type: string
      description: |
        ID of the Instance to attach to
      willReplaceOnChanges: true
    skipDestroy:
      type: boolean
      description: |
        Set this to true if you do not wish
        to detach the volume from the instance to which it is attached at destroy
        time, and instead just remove the attachment from this provider state. This is
        useful when destroying an instance which has volumes created by some other
        means attached.
    stopInstanceBeforeDetaching:
      type: boolean
      description: |
        Set this to true to ensure that the target instance is stopped
        before trying to detach the volume. Stops the instance, if it is not already stopped.
    volumeId:
      type: string
      description: |
        ID of the Volume to be attached
      willReplaceOnChanges: true
  type: object
