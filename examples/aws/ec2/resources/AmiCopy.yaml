$token: aws:ec2/amiCopy:AmiCopy
properties:
  architecture:
    type: string
    description: |
      Machine architecture for created instances. Defaults to "x86_64".
  arn:
    type: string
    description: |
      ARN of the AMI.
  bootMode:
    type: string
    description: |
      Boot mode of the AMI. For more information, see [Boot modes](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-boot.html) in the Amazon Elastic Compute Cloud User Guide.
  deprecationTime:
    type: string
    description: |
      Date and time to deprecate the AMI. If you specified a value for seconds, Amazon EC2 rounds the seconds to the nearest minute. Valid values: [RFC3339 time string](https://tools.ietf.org/html/rfc3339#section-5.8) (`YYYY-MM-DDTHH:MM:SSZ`)
  description:
    type: string
    description: |
      Longer, human-readable description for the AMI.
  destinationOutpostArn:
    type: string
    description: |
      ARN of the Outpost to which to copy the AMI.
      Only specify this parameter when copying an AMI from an AWS Region to an Outpost. The AMI must be in the Region of the destination Outpost.
  ebsBlockDevices:
    type: array
    items:
      $ref: "#/types/aws:ec2/AmiCopyEbsBlockDevice:AmiCopyEbsBlockDevice"
    description: |
      Nested block describing an EBS block device that should be
      attached to created instances. The structure of this block is described below.
  enaSupport:
    type: boolean
    description: |
      Whether enhanced networking with ENA is enabled. Defaults to `false`.
  encrypted:
    type: boolean
    description: |
      Boolean controlling whether the created EBS volumes will be encrypted. Can't be used with `snapshot_id`.
  ephemeralBlockDevices:
    type: array
    items:
      $ref: "#/types/aws:ec2/AmiCopyEphemeralBlockDevice:AmiCopyEphemeralBlockDevice"
    description: |
      Nested block describing an ephemeral block device that
      should be attached to created instances. The structure of this block is described below.
  hypervisor:
    type: string
  imageLocation:
    type: string
    description: |
      Path to an S3 object containing an image manifest, e.g., created
      by the `ec2-upload-bundle` command in the EC2 command line tools.
  imageOwnerAlias:
    type: string
  imageType:
    type: string
  kernelId:
    type: string
    description: |
      ID of the kernel image (AKI) that will be used as the paravirtual
      kernel in created instances.
  kmsKeyId:
    type: string
    description: |
      Full ARN of the AWS Key Management Service (AWS KMS) CMK to use when encrypting the snapshots of
      an image during a copy operation. This parameter is only required if you want to use a non-default CMK;
      if this parameter is not specified, the default CMK for EBS is used
  manageEbsSnapshots:
    type: boolean
  name:
    type: string
    description: |
      Region-unique name for the AMI.
  ownerId:
    type: string
  platform:
    type: string
  platformDetails:
    type: string
  public:
    type: boolean
  ramdiskId:
    type: string
    description: |
      ID of an initrd image (ARI) that will be used when booting the
      created instances.
  rootDeviceName:
    type: string
    description: |
      Name of the root device (for example, `/dev/sda1`, or `/dev/xvda`).
  rootSnapshotId:
    type: string
  sourceAmiId:
    type: string
    description: |
      Id of the AMI to copy. This id must be valid in the region
      given by `source_ami_region`.
  sourceAmiRegion:
    type: string
    description: |
      Region from which the AMI will be copied. This may be the
      same as the AWS provider region in order to create a copy within the same region.
  sriovNetSupport:
    type: string
    description: |
      When set to "simple" (the default), enables enhanced networking
      for created instances. No other value is supported at this time.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
  tpmSupport:
    type: string
    description: |
      If the image is configured for NitroTPM support, the value is `v2.0`. For more information, see [NitroTPM](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nitrotpm.html) in the Amazon Elastic Compute Cloud User Guide.
  usageOperation:
    type: string
  virtualizationType:
    type: string
    description: |
      Keyword to choose what virtualization mode created instances
      will use. Can be either "paravirtual" (the default) or "hvm". The choice of virtualization type
      changes the set of further arguments that are required, as described below.
required:
  - architecture
  - arn
  - bootMode
  - ebsBlockDevices
  - enaSupport
  - ephemeralBlockDevices
  - hypervisor
  - imageLocation
  - imageOwnerAlias
  - imageType
  - kernelId
  - kmsKeyId
  - manageEbsSnapshots
  - name
  - ownerId
  - platform
  - platformDetails
  - public
  - ramdiskId
  - rootDeviceName
  - rootSnapshotId
  - sourceAmiId
  - sourceAmiRegion
  - sriovNetSupport
  - tagsAll
  - tpmSupport
  - usageOperation
  - virtualizationType
inputProperties:
  deprecationTime:
    type: string
    description: |
      Date and time to deprecate the AMI. If you specified a value for seconds, Amazon EC2 rounds the seconds to the nearest minute. Valid values: [RFC3339 time string](https://tools.ietf.org/html/rfc3339#section-5.8) (`YYYY-MM-DDTHH:MM:SSZ`)
  description:
    type: string
    description: |
      Longer, human-readable description for the AMI.
  destinationOutpostArn:
    type: string
    description: |
      ARN of the Outpost to which to copy the AMI.
      Only specify this parameter when copying an AMI from an AWS Region to an Outpost. The AMI must be in the Region of the destination Outpost.
  ebsBlockDevices:
    type: array
    items:
      $ref: "#/types/aws:ec2/AmiCopyEbsBlockDevice:AmiCopyEbsBlockDevice"
    description: |
      Nested block describing an EBS block device that should be
      attached to created instances. The structure of this block is described below.
  encrypted:
    type: boolean
    description: |
      Boolean controlling whether the created EBS volumes will be encrypted. Can't be used with `snapshot_id`.
    willReplaceOnChanges: true
  ephemeralBlockDevices:
    type: array
    items:
      $ref: "#/types/aws:ec2/AmiCopyEphemeralBlockDevice:AmiCopyEphemeralBlockDevice"
    description: |
      Nested block describing an ephemeral block device that
      should be attached to created instances. The structure of this block is described below.
    willReplaceOnChanges: true
  kmsKeyId:
    type: string
    description: |
      Full ARN of the AWS Key Management Service (AWS KMS) CMK to use when encrypting the snapshots of
      an image during a copy operation. This parameter is only required if you want to use a non-default CMK;
      if this parameter is not specified, the default CMK for EBS is used
    willReplaceOnChanges: true
  name:
    type: string
    description: |
      Region-unique name for the AMI.
    willReplaceOnChanges: true
  sourceAmiId:
    type: string
    description: |
      Id of the AMI to copy. This id must be valid in the region
      given by `source_ami_region`.
    willReplaceOnChanges: true
  sourceAmiRegion:
    type: string
    description: |
      Region from which the AMI will be copied. This may be the
      same as the AWS provider region in order to create a copy within the same region.
    willReplaceOnChanges: true
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
requiredInputs:
  - sourceAmiId
  - sourceAmiRegion
stateInputs:
  description: |
    Input properties used for looking up and filtering AmiCopy resources.
  properties:
    architecture:
      type: string
      description: |
        Machine architecture for created instances. Defaults to "x86_64".
    arn:
      type: string
      description: |
        ARN of the AMI.
    bootMode:
      type: string
      description: |
        Boot mode of the AMI. For more information, see [Boot modes](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-boot.html) in the Amazon Elastic Compute Cloud User Guide.
    deprecationTime:
      type: string
      description: |
        Date and time to deprecate the AMI. If you specified a value for seconds, Amazon EC2 rounds the seconds to the nearest minute. Valid values: [RFC3339 time string](https://tools.ietf.org/html/rfc3339#section-5.8) (`YYYY-MM-DDTHH:MM:SSZ`)
    description:
      type: string
      description: |
        Longer, human-readable description for the AMI.
    destinationOutpostArn:
      type: string
      description: |
        ARN of the Outpost to which to copy the AMI.
        Only specify this parameter when copying an AMI from an AWS Region to an Outpost. The AMI must be in the Region of the destination Outpost.
    ebsBlockDevices:
      type: array
      items:
        $ref: "#/types/aws:ec2/AmiCopyEbsBlockDevice:AmiCopyEbsBlockDevice"
      description: |
        Nested block describing an EBS block device that should be
        attached to created instances. The structure of this block is described below.
    enaSupport:
      type: boolean
      description: |
        Whether enhanced networking with ENA is enabled. Defaults to `false`.
    encrypted:
      type: boolean
      description: |
        Boolean controlling whether the created EBS volumes will be encrypted. Can't be used with `snapshot_id`.
      willReplaceOnChanges: true
    ephemeralBlockDevices:
      type: array
      items:
        $ref: "#/types/aws:ec2/AmiCopyEphemeralBlockDevice:AmiCopyEphemeralBlockDevice"
      description: |
        Nested block describing an ephemeral block device that
        should be attached to created instances. The structure of this block is described below.
      willReplaceOnChanges: true
    hypervisor:
      type: string
    imageLocation:
      type: string
      description: |
        Path to an S3 object containing an image manifest, e.g., created
        by the `ec2-upload-bundle` command in the EC2 command line tools.
    imageOwnerAlias:
      type: string
    imageType:
      type: string
    kernelId:
      type: string
      description: |
        ID of the kernel image (AKI) that will be used as the paravirtual
        kernel in created instances.
    kmsKeyId:
      type: string
      description: |
        Full ARN of the AWS Key Management Service (AWS KMS) CMK to use when encrypting the snapshots of
        an image during a copy operation. This parameter is only required if you want to use a non-default CMK;
        if this parameter is not specified, the default CMK for EBS is used
      willReplaceOnChanges: true
    manageEbsSnapshots:
      type: boolean
    name:
      type: string
      description: |
        Region-unique name for the AMI.
      willReplaceOnChanges: true
    ownerId:
      type: string
    platform:
      type: string
    platformDetails:
      type: string
    public:
      type: boolean
    ramdiskId:
      type: string
      description: |
        ID of an initrd image (ARI) that will be used when booting the
        created instances.
    rootDeviceName:
      type: string
      description: |
        Name of the root device (for example, `/dev/sda1`, or `/dev/xvda`).
    rootSnapshotId:
      type: string
    sourceAmiId:
      type: string
      description: |
        Id of the AMI to copy. This id must be valid in the region
        given by `source_ami_region`.
      willReplaceOnChanges: true
    sourceAmiRegion:
      type: string
      description: |
        Region from which the AMI will be copied. This may be the
        same as the AWS provider region in order to create a copy within the same region.
      willReplaceOnChanges: true
    sriovNetSupport:
      type: string
      description: |
        When set to "simple" (the default), enables enhanced networking
        for created instances. No other value is supported at this time.
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
    tpmSupport:
      type: string
      description: |
        If the image is configured for NitroTPM support, the value is `v2.0`. For more information, see [NitroTPM](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nitrotpm.html) in the Amazon Elastic Compute Cloud User Guide.
    usageOperation:
      type: string
    virtualizationType:
      type: string
      description: |
        Keyword to choose what virtualization mode created instances
        will use. Can be either "paravirtual" (the default) or "hvm". The choice of virtualization type
        changes the set of further arguments that are required, as described below.
  type: object
