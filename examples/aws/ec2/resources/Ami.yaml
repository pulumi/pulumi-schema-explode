$token: aws:ec2/ami:Ami
properties:
  architecture:
    type: string
    description: |
      Machine architecture for created instances. Defaults to "x86_64".
  arn:
    type: string
    description: |
      ARN of the AMI.
  bootMode:
    type: string
    description: |
      Boot mode of the AMI. For more information, see [Boot modes](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-boot.html) in the Amazon Elastic Compute Cloud User Guide.
  deprecationTime:
    type: string
    description: |
      Date and time to deprecate the AMI. If you specified a value for seconds, Amazon EC2 rounds the seconds to the nearest minute. Valid values: [RFC3339 time string](https://tools.ietf.org/html/rfc3339#section-5.8) (`YYYY-MM-DDTHH:MM:SSZ`)
  description:
    type: string
    description: |
      Longer, human-readable description for the AMI.
  ebsBlockDevices:
    type: array
    items:
      $ref: "#/types/aws:ec2/AmiEbsBlockDevice:AmiEbsBlockDevice"
    description: |
      Nested block describing an EBS block device that should be
      attached to created instances. The structure of this block is described below.
  enaSupport:
    type: boolean
    description: |
      Whether enhanced networking with ENA is enabled. Defaults to `false`.
  ephemeralBlockDevices:
    type: array
    items:
      $ref: "#/types/aws:ec2/AmiEphemeralBlockDevice:AmiEphemeralBlockDevice"
    description: |
      Nested block describing an ephemeral block device that
      should be attached to created instances. The structure of this block is described below.
  hypervisor:
    type: string
    description: |
      Hypervisor type of the image.
  imageLocation:
    type: string
    description: |
      Path to an S3 object containing an image manifest, e.g., created
      by the `ec2-upload-bundle` command in the EC2 command line tools.
  imageOwnerAlias:
    type: string
    description: |
      AWS account alias (for example, amazon, self) or the AWS account ID of the AMI owner.
  imageType:
    type: string
    description: |
      Type of image.
  kernelId:
    type: string
    description: |
      ID of the kernel image (AKI) that will be used as the paravirtual
      kernel in created instances.
  manageEbsSnapshots:
    type: boolean
  name:
    type: string
    description: |
      Region-unique name for the AMI.
  ownerId:
    type: string
    description: |
      AWS account ID of the image owner.
  platform:
    type: string
    description: |
      This value is set to windows for Windows AMIs; otherwise, it is blank.
  platformDetails:
    type: string
    description: |
      Platform details associated with the billing code of the AMI.
  public:
    type: boolean
    description: |
      Whether the image has public launch permissions.
  ramdiskId:
    type: string
    description: |
      ID of an initrd image (ARI) that will be used when booting the
      created instances.
  rootDeviceName:
    type: string
    description: |
      Name of the root device (for example, `/dev/sda1`, or `/dev/xvda`).
  rootSnapshotId:
    type: string
    description: |
      Snapshot ID for the root volume (for EBS-backed AMIs)
  sriovNetSupport:
    type: string
    description: |
      When set to "simple" (the default), enables enhanced networking
      for created instances. No other value is supported at this time.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  tpmSupport:
    type: string
    description: |
      If the image is configured for NitroTPM support, the value is `v2.0`. For more information, see [NitroTPM](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nitrotpm.html) in the Amazon Elastic Compute Cloud User Guide.
  usageOperation:
    type: string
    description: |
      Operation of the Amazon EC2 instance and the billing code that is associated with the AMI.
  virtualizationType:
    type: string
    description: |
      Keyword to choose what virtualization mode created instances
      will use. Can be either "paravirtual" (the default) or "hvm". The choice of virtualization type
      changes the set of further arguments that are required, as described below.
required:
  - arn
  - ebsBlockDevices
  - ephemeralBlockDevices
  - hypervisor
  - imageLocation
  - imageOwnerAlias
  - imageType
  - manageEbsSnapshots
  - name
  - ownerId
  - platform
  - platformDetails
  - public
  - rootSnapshotId
  - tagsAll
  - usageOperation
inputProperties:
  architecture:
    type: string
    description: |
      Machine architecture for created instances. Defaults to "x86_64".
    willReplaceOnChanges: true
  bootMode:
    type: string
    description: |
      Boot mode of the AMI. For more information, see [Boot modes](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-boot.html) in the Amazon Elastic Compute Cloud User Guide.
    willReplaceOnChanges: true
  deprecationTime:
    type: string
    description: |
      Date and time to deprecate the AMI. If you specified a value for seconds, Amazon EC2 rounds the seconds to the nearest minute. Valid values: [RFC3339 time string](https://tools.ietf.org/html/rfc3339#section-5.8) (`YYYY-MM-DDTHH:MM:SSZ`)
  description:
    type: string
    description: |
      Longer, human-readable description for the AMI.
  ebsBlockDevices:
    type: array
    items:
      $ref: "#/types/aws:ec2/AmiEbsBlockDevice:AmiEbsBlockDevice"
    description: |
      Nested block describing an EBS block device that should be
      attached to created instances. The structure of this block is described below.
  enaSupport:
    type: boolean
    description: |
      Whether enhanced networking with ENA is enabled. Defaults to `false`.
    willReplaceOnChanges: true
  ephemeralBlockDevices:
    type: array
    items:
      $ref: "#/types/aws:ec2/AmiEphemeralBlockDevice:AmiEphemeralBlockDevice"
    description: |
      Nested block describing an ephemeral block device that
      should be attached to created instances. The structure of this block is described below.
    willReplaceOnChanges: true
  imageLocation:
    type: string
    description: |
      Path to an S3 object containing an image manifest, e.g., created
      by the `ec2-upload-bundle` command in the EC2 command line tools.
    willReplaceOnChanges: true
  kernelId:
    type: string
    description: |
      ID of the kernel image (AKI) that will be used as the paravirtual
      kernel in created instances.
    willReplaceOnChanges: true
  name:
    type: string
    description: |
      Region-unique name for the AMI.
    willReplaceOnChanges: true
  ramdiskId:
    type: string
    description: |
      ID of an initrd image (ARI) that will be used when booting the
      created instances.
    willReplaceOnChanges: true
  rootDeviceName:
    type: string
    description: |
      Name of the root device (for example, `/dev/sda1`, or `/dev/xvda`).
    willReplaceOnChanges: true
  sriovNetSupport:
    type: string
    description: |
      When set to "simple" (the default), enables enhanced networking
      for created instances. No other value is supported at this time.
    willReplaceOnChanges: true
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tpmSupport:
    type: string
    description: |
      If the image is configured for NitroTPM support, the value is `v2.0`. For more information, see [NitroTPM](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nitrotpm.html) in the Amazon Elastic Compute Cloud User Guide.
    willReplaceOnChanges: true
  virtualizationType:
    type: string
    description: |
      Keyword to choose what virtualization mode created instances
      will use. Can be either "paravirtual" (the default) or "hvm". The choice of virtualization type
      changes the set of further arguments that are required, as described below.
    willReplaceOnChanges: true
stateInputs:
  description: |
    Input properties used for looking up and filtering Ami resources.
  properties:
    architecture:
      type: string
      description: |
        Machine architecture for created instances. Defaults to "x86_64".
      willReplaceOnChanges: true
    arn:
      type: string
      description: |
        ARN of the AMI.
    bootMode:
      type: string
      description: |
        Boot mode of the AMI. For more information, see [Boot modes](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-boot.html) in the Amazon Elastic Compute Cloud User Guide.
      willReplaceOnChanges: true
    deprecationTime:
      type: string
      description: |
        Date and time to deprecate the AMI. If you specified a value for seconds, Amazon EC2 rounds the seconds to the nearest minute. Valid values: [RFC3339 time string](https://tools.ietf.org/html/rfc3339#section-5.8) (`YYYY-MM-DDTHH:MM:SSZ`)
    description:
      type: string
      description: |
        Longer, human-readable description for the AMI.
    ebsBlockDevices:
      type: array
      items:
        $ref: "#/types/aws:ec2/AmiEbsBlockDevice:AmiEbsBlockDevice"
      description: |
        Nested block describing an EBS block device that should be
        attached to created instances. The structure of this block is described below.
    enaSupport:
      type: boolean
      description: |
        Whether enhanced networking with ENA is enabled. Defaults to `false`.
      willReplaceOnChanges: true
    ephemeralBlockDevices:
      type: array
      items:
        $ref: "#/types/aws:ec2/AmiEphemeralBlockDevice:AmiEphemeralBlockDevice"
      description: |
        Nested block describing an ephemeral block device that
        should be attached to created instances. The structure of this block is described below.
      willReplaceOnChanges: true
    hypervisor:
      type: string
      description: |
        Hypervisor type of the image.
    imageLocation:
      type: string
      description: |
        Path to an S3 object containing an image manifest, e.g., created
        by the `ec2-upload-bundle` command in the EC2 command line tools.
      willReplaceOnChanges: true
    imageOwnerAlias:
      type: string
      description: |
        AWS account alias (for example, amazon, self) or the AWS account ID of the AMI owner.
    imageType:
      type: string
      description: |
        Type of image.
    kernelId:
      type: string
      description: |
        ID of the kernel image (AKI) that will be used as the paravirtual
        kernel in created instances.
      willReplaceOnChanges: true
    manageEbsSnapshots:
      type: boolean
    name:
      type: string
      description: |
        Region-unique name for the AMI.
      willReplaceOnChanges: true
    ownerId:
      type: string
      description: |
        AWS account ID of the image owner.
    platform:
      type: string
      description: |
        This value is set to windows for Windows AMIs; otherwise, it is blank.
    platformDetails:
      type: string
      description: |
        Platform details associated with the billing code of the AMI.
    public:
      type: boolean
      description: |
        Whether the image has public launch permissions.
    ramdiskId:
      type: string
      description: |
        ID of an initrd image (ARI) that will be used when booting the
        created instances.
      willReplaceOnChanges: true
    rootDeviceName:
      type: string
      description: |
        Name of the root device (for example, `/dev/sda1`, or `/dev/xvda`).
      willReplaceOnChanges: true
    rootSnapshotId:
      type: string
      description: |
        Snapshot ID for the root volume (for EBS-backed AMIs)
    sriovNetSupport:
      type: string
      description: |
        When set to "simple" (the default), enables enhanced networking
        for created instances. No other value is supported at this time.
      willReplaceOnChanges: true
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        Map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
    tpmSupport:
      type: string
      description: |
        If the image is configured for NitroTPM support, the value is `v2.0`. For more information, see [NitroTPM](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nitrotpm.html) in the Amazon Elastic Compute Cloud User Guide.
      willReplaceOnChanges: true
    usageOperation:
      type: string
      description: |
        Operation of the Amazon EC2 instance and the billing code that is associated with the AMI.
    virtualizationType:
      type: string
      description: |
        Keyword to choose what virtualization mode created instances
        will use. Can be either "paravirtual" (the default) or "hvm". The choice of virtualization type
        changes the set of further arguments that are required, as described below.
      willReplaceOnChanges: true
  type: object
