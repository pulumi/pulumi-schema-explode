$token: aws:fsx/windowsFileSystem:WindowsFileSystem
properties:
  activeDirectoryId:
    type: string
    description: |
      The ID for an existing Microsoft Active Directory instance that the file system should join when it's created. Cannot be specified with `self_managed_active_directory`.
  aliases:
    type: array
    items:
      type: string
    description: |
      An array DNS alias names that you want to associate with the Amazon FSx file system.  For more information, see [Working with DNS Aliases](https://docs.aws.amazon.com/fsx/latest/WindowsGuide/managing-dns-aliases.html)
  arn:
    type: string
    description: |
      Amazon Resource Name of the file system.
  auditLogConfiguration:
    $ref: "#/types/aws:fsx/WindowsFileSystemAuditLogConfiguration:WindowsFileSystemAuditLogConfiguration"
    description: |
      The configuration that Amazon FSx for Windows File Server uses to audit and log user accesses of files, folders, and file shares on the Amazon FSx for Windows File Server file system. See below.
  automaticBackupRetentionDays:
    type: integer
    description: |
      The number of days to retain automatic backups. Minimum of `0` and maximum of `90`. Defaults to `7`. Set to `0` to disable.
  backupId:
    type: string
    description: |
      The ID of the source backup to create the filesystem from.
  copyTagsToBackups:
    type: boolean
    description: |
      A boolean flag indicating whether tags on the file system should be copied to backups. Defaults to `false`.
  dailyAutomaticBackupStartTime:
    type: string
    description: |
      The preferred time (in `HH:MM` format) to take daily automatic backups, in the UTC time zone.
  deploymentType:
    type: string
    description: |
      Specifies the file system deployment type, valid values are `MULTI_AZ_1`, `SINGLE_AZ_1` and `SINGLE_AZ_2`. Default value is `SINGLE_AZ_1`.
  dnsName:
    type: string
    description: |
      DNS name for the file system, e.g., `fs-12345678.corp.example.com` (domain name matching the Active Directory domain name)
  kmsKeyId:
    type: string
    description: |
      ARN for the KMS Key to encrypt the file system at rest. Defaults to an AWS managed KMS Key.
  networkInterfaceIds:
    type: array
    items:
      type: string
    description: |
      Set of Elastic Network Interface identifiers from which the file system is accessible.
  ownerId:
    type: string
    description: |
      AWS account identifier that created the file system.
  preferredFileServerIp:
    type: string
    description: |
      The IP address of the primary, or preferred, file server.
  preferredSubnetId:
    type: string
    description: |
      Specifies the subnet in which you want the preferred file server to be located. Required for when deployment type is `MULTI_AZ_1`.
  remoteAdministrationEndpoint:
    type: string
    description: |
      For `MULTI_AZ_1` deployment types, use this endpoint when performing administrative tasks on the file system using Amazon FSx Remote PowerShell. For `SINGLE_AZ_1` deployment types, this is the DNS name of the file system.
  securityGroupIds:
    type: array
    items:
      type: string
    description: |
      A list of IDs for the security groups that apply to the specified network interfaces created for file system access. These security groups will apply to all network interfaces.
  selfManagedActiveDirectory:
    $ref: "#/types/aws:fsx/WindowsFileSystemSelfManagedActiveDirectory:WindowsFileSystemSelfManagedActiveDirectory"
    description: |
      Configuration block that Amazon FSx uses to join the Windows File Server instance to your self-managed (including on-premises) Microsoft Active Directory (AD) directory. Cannot be specified with `active_directory_id`. Detailed below.
  skipFinalBackup:
    type: boolean
    description: |
      When enabled, will skip the default final backup taken when the file system is deleted. This configuration must be applied separately before attempting to delete the resource to have the desired behavior. Defaults to `false`.
  storageCapacity:
    type: integer
    description: |
      Storage capacity (GiB) of the file system. Minimum of 32 and maximum of 65536. If the storage type is set to `HDD` the minimum value is 2000. Required when not creating filesystem for a backup.
  storageType:
    type: string
    description: |
      Specifies the storage type, Valid values are `SSD` and `HDD`. `HDD` is supported on `SINGLE_AZ_2` and `MULTI_AZ_1` Windows file system deployment types. Default value is `SSD`.
  subnetIds:
    type: array
    items:
      type: string
    description: |
      A list of IDs for the subnets that the file system will be accessible from. To specify more than a single subnet set `deployment_type` to `MULTI_AZ_1`.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the file system. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
  throughputCapacity:
    type: integer
    description: |
      Throughput (megabytes per second) of the file system in power of 2 increments. Minimum of `8` and maximum of `2048`.
  vpcId:
    type: string
    description: |
      Identifier of the Virtual Private Cloud for the file system.
  weeklyMaintenanceStartTime:
    type: string
    description: |
      The preferred start time (in `d:HH:MM` format) to perform weekly maintenance, in the UTC time zone.
required:
  - arn
  - auditLogConfiguration
  - dailyAutomaticBackupStartTime
  - dnsName
  - kmsKeyId
  - networkInterfaceIds
  - ownerId
  - preferredFileServerIp
  - preferredSubnetId
  - remoteAdministrationEndpoint
  - storageCapacity
  - subnetIds
  - tagsAll
  - throughputCapacity
  - vpcId
  - weeklyMaintenanceStartTime
inputProperties:
  activeDirectoryId:
    type: string
    description: |
      The ID for an existing Microsoft Active Directory instance that the file system should join when it's created. Cannot be specified with `self_managed_active_directory`.
    willReplaceOnChanges: true
  aliases:
    type: array
    items:
      type: string
    description: |
      An array DNS alias names that you want to associate with the Amazon FSx file system.  For more information, see [Working with DNS Aliases](https://docs.aws.amazon.com/fsx/latest/WindowsGuide/managing-dns-aliases.html)
  auditLogConfiguration:
    $ref: "#/types/aws:fsx/WindowsFileSystemAuditLogConfiguration:WindowsFileSystemAuditLogConfiguration"
    description: |
      The configuration that Amazon FSx for Windows File Server uses to audit and log user accesses of files, folders, and file shares on the Amazon FSx for Windows File Server file system. See below.
  automaticBackupRetentionDays:
    type: integer
    description: |
      The number of days to retain automatic backups. Minimum of `0` and maximum of `90`. Defaults to `7`. Set to `0` to disable.
  backupId:
    type: string
    description: |
      The ID of the source backup to create the filesystem from.
    willReplaceOnChanges: true
  copyTagsToBackups:
    type: boolean
    description: |
      A boolean flag indicating whether tags on the file system should be copied to backups. Defaults to `false`.
    willReplaceOnChanges: true
  dailyAutomaticBackupStartTime:
    type: string
    description: |
      The preferred time (in `HH:MM` format) to take daily automatic backups, in the UTC time zone.
  deploymentType:
    type: string
    description: |
      Specifies the file system deployment type, valid values are `MULTI_AZ_1`, `SINGLE_AZ_1` and `SINGLE_AZ_2`. Default value is `SINGLE_AZ_1`.
    willReplaceOnChanges: true
  kmsKeyId:
    type: string
    description: |
      ARN for the KMS Key to encrypt the file system at rest. Defaults to an AWS managed KMS Key.
    willReplaceOnChanges: true
  preferredSubnetId:
    type: string
    description: |
      Specifies the subnet in which you want the preferred file server to be located. Required for when deployment type is `MULTI_AZ_1`.
    willReplaceOnChanges: true
  securityGroupIds:
    type: array
    items:
      type: string
    description: |
      A list of IDs for the security groups that apply to the specified network interfaces created for file system access. These security groups will apply to all network interfaces.
    willReplaceOnChanges: true
  selfManagedActiveDirectory:
    $ref: "#/types/aws:fsx/WindowsFileSystemSelfManagedActiveDirectory:WindowsFileSystemSelfManagedActiveDirectory"
    description: |
      Configuration block that Amazon FSx uses to join the Windows File Server instance to your self-managed (including on-premises) Microsoft Active Directory (AD) directory. Cannot be specified with `active_directory_id`. Detailed below.
  skipFinalBackup:
    type: boolean
    description: |
      When enabled, will skip the default final backup taken when the file system is deleted. This configuration must be applied separately before attempting to delete the resource to have the desired behavior. Defaults to `false`.
  storageCapacity:
    type: integer
    description: |
      Storage capacity (GiB) of the file system. Minimum of 32 and maximum of 65536. If the storage type is set to `HDD` the minimum value is 2000. Required when not creating filesystem for a backup.
  storageType:
    type: string
    description: |
      Specifies the storage type, Valid values are `SSD` and `HDD`. `HDD` is supported on `SINGLE_AZ_2` and `MULTI_AZ_1` Windows file system deployment types. Default value is `SSD`.
    willReplaceOnChanges: true
  subnetIds:
    type: array
    items:
      type: string
    description: |
      A list of IDs for the subnets that the file system will be accessible from. To specify more than a single subnet set `deployment_type` to `MULTI_AZ_1`.
    willReplaceOnChanges: true
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      A map of tags to assign to the file system. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  throughputCapacity:
    type: integer
    description: |
      Throughput (megabytes per second) of the file system in power of 2 increments. Minimum of `8` and maximum of `2048`.
  weeklyMaintenanceStartTime:
    type: string
    description: |
      The preferred start time (in `d:HH:MM` format) to perform weekly maintenance, in the UTC time zone.
requiredInputs:
  - subnetIds
  - throughputCapacity
stateInputs:
  description: |
    Input properties used for looking up and filtering WindowsFileSystem resources.
  properties:
    activeDirectoryId:
      type: string
      description: |
        The ID for an existing Microsoft Active Directory instance that the file system should join when it's created. Cannot be specified with `self_managed_active_directory`.
      willReplaceOnChanges: true
    aliases:
      type: array
      items:
        type: string
      description: |
        An array DNS alias names that you want to associate with the Amazon FSx file system.  For more information, see [Working with DNS Aliases](https://docs.aws.amazon.com/fsx/latest/WindowsGuide/managing-dns-aliases.html)
    arn:
      type: string
      description: |
        Amazon Resource Name of the file system.
    auditLogConfiguration:
      $ref: "#/types/aws:fsx/WindowsFileSystemAuditLogConfiguration:WindowsFileSystemAuditLogConfiguration"
      description: |
        The configuration that Amazon FSx for Windows File Server uses to audit and log user accesses of files, folders, and file shares on the Amazon FSx for Windows File Server file system. See below.
    automaticBackupRetentionDays:
      type: integer
      description: |
        The number of days to retain automatic backups. Minimum of `0` and maximum of `90`. Defaults to `7`. Set to `0` to disable.
    backupId:
      type: string
      description: |
        The ID of the source backup to create the filesystem from.
      willReplaceOnChanges: true
    copyTagsToBackups:
      type: boolean
      description: |
        A boolean flag indicating whether tags on the file system should be copied to backups. Defaults to `false`.
      willReplaceOnChanges: true
    dailyAutomaticBackupStartTime:
      type: string
      description: |
        The preferred time (in `HH:MM` format) to take daily automatic backups, in the UTC time zone.
    deploymentType:
      type: string
      description: |
        Specifies the file system deployment type, valid values are `MULTI_AZ_1`, `SINGLE_AZ_1` and `SINGLE_AZ_2`. Default value is `SINGLE_AZ_1`.
      willReplaceOnChanges: true
    dnsName:
      type: string
      description: |
        DNS name for the file system, e.g., `fs-12345678.corp.example.com` (domain name matching the Active Directory domain name)
    kmsKeyId:
      type: string
      description: |
        ARN for the KMS Key to encrypt the file system at rest. Defaults to an AWS managed KMS Key.
      willReplaceOnChanges: true
    networkInterfaceIds:
      type: array
      items:
        type: string
      description: |
        Set of Elastic Network Interface identifiers from which the file system is accessible.
    ownerId:
      type: string
      description: |
        AWS account identifier that created the file system.
    preferredFileServerIp:
      type: string
      description: |
        The IP address of the primary, or preferred, file server.
    preferredSubnetId:
      type: string
      description: |
        Specifies the subnet in which you want the preferred file server to be located. Required for when deployment type is `MULTI_AZ_1`.
      willReplaceOnChanges: true
    remoteAdministrationEndpoint:
      type: string
      description: |
        For `MULTI_AZ_1` deployment types, use this endpoint when performing administrative tasks on the file system using Amazon FSx Remote PowerShell. For `SINGLE_AZ_1` deployment types, this is the DNS name of the file system.
    securityGroupIds:
      type: array
      items:
        type: string
      description: |
        A list of IDs for the security groups that apply to the specified network interfaces created for file system access. These security groups will apply to all network interfaces.
      willReplaceOnChanges: true
    selfManagedActiveDirectory:
      $ref: "#/types/aws:fsx/WindowsFileSystemSelfManagedActiveDirectory:WindowsFileSystemSelfManagedActiveDirectory"
      description: |
        Configuration block that Amazon FSx uses to join the Windows File Server instance to your self-managed (including on-premises) Microsoft Active Directory (AD) directory. Cannot be specified with `active_directory_id`. Detailed below.
    skipFinalBackup:
      type: boolean
      description: |
        When enabled, will skip the default final backup taken when the file system is deleted. This configuration must be applied separately before attempting to delete the resource to have the desired behavior. Defaults to `false`.
    storageCapacity:
      type: integer
      description: |
        Storage capacity (GiB) of the file system. Minimum of 32 and maximum of 65536. If the storage type is set to `HDD` the minimum value is 2000. Required when not creating filesystem for a backup.
    storageType:
      type: string
      description: |
        Specifies the storage type, Valid values are `SSD` and `HDD`. `HDD` is supported on `SINGLE_AZ_2` and `MULTI_AZ_1` Windows file system deployment types. Default value is `SSD`.
      willReplaceOnChanges: true
    subnetIds:
      type: array
      items:
        type: string
      description: |
        A list of IDs for the subnets that the file system will be accessible from. To specify more than a single subnet set `deployment_type` to `MULTI_AZ_1`.
      willReplaceOnChanges: true
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags to assign to the file system. .If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
      description: |
        A map of tags assigned to the resource, including those inherited from the provider `default_tags` configuration block.
    throughputCapacity:
      type: integer
      description: |
        Throughput (megabytes per second) of the file system in power of 2 increments. Minimum of `8` and maximum of `2048`.
    vpcId:
      type: string
      description: |
        Identifier of the Virtual Private Cloud for the file system.
    weeklyMaintenanceStartTime:
      type: string
      description: |
        The preferred start time (in `d:HH:MM` format) to perform weekly maintenance, in the UTC time zone.
  type: object
