$token: aws:elasticache/cluster:Cluster
properties:
  applyImmediately:
    type: boolean
    description: |
      Whether any database modifications are applied immediately, or during the next maintenance window. Default is `false`. See [Amazon ElastiCache Documentation for more information.](https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_ModifyCacheCluster.html).
  arn:
    type: string
    description: |
      The ARN of the created ElastiCache Cluster.
  autoMinorVersionUpgrade:
    type: string
    description: |
      Specifies whether minor version engine upgrades will be applied automatically to the underlying Cache Cluster instances during the maintenance window.
      Only supported for engine type `"redis"` and if the engine version is 6 or higher.
      Defaults to `true`.
  availabilityZone:
    type: string
    description: |
      Availability Zone for the cache cluster. If you want to create cache nodes in multi-az, use `preferred_availability_zones` instead. Default: System chosen Availability Zone. Changing this value will re-create the resource.
  azMode:
    type: string
    description: |
      Whether the nodes in this Memcached node group are created in a single Availability Zone or created across multiple Availability Zones in the cluster's region. Valid values for this parameter are `single-az` or `cross-az`, default is `single-az`. If you want to choose `cross-az`, `num_cache_nodes` must be greater than `1`.
  cacheNodes:
    type: array
    items:
      $ref: "#/types/aws:elasticache/ClusterCacheNode:ClusterCacheNode"
    description: |
      List of node objects including `id`, `address`, `port` and `availability_zone`.
  clusterAddress:
    type: string
    description: |
      (Memcached only) DNS name of the cache cluster without the port appended.
  clusterId:
    type: string
    description: |
      Group identifier. ElastiCache converts this name to lowercase. Changing this value will re-create the resource.
  configurationEndpoint:
    type: string
    description: |
      (Memcached only) Configuration endpoint to allow host discovery.
  engine:
    type: string
    description: |
      Name of the cache engine to be used for this cache cluster. Valid values are `memcached` or `redis`.
  engineVersion:
    type: string
    description: |
      Version number of the cache engine to be used.
      If not set, defaults to the latest version.
      See [Describe Cache Engine Versions](https://docs.aws.amazon.com/cli/latest/reference/elasticache/describe-cache-engine-versions.html) in the AWS Documentation for supported versions.
      When `engine` is `redis` and the version is 6 or higher, the major and minor version can be set, e.g., `6.2`,
      or the minor version can be unspecified which will use the latest version at creation time, e.g., `6.x`.
      Otherwise, specify the full version desired, e.g., `5.0.6`.
      The actual engine version used is returned in the attribute `engine_version_actual`, see Attributes Reference below.
  engineVersionActual:
    type: string
    description: |
      Because ElastiCache pulls the latest minor or patch for a version, this attribute returns the running version of the cache engine.
  finalSnapshotIdentifier:
    type: string
    description: |
      Name of your final cluster snapshot. If omitted, no final snapshot will be made.
  logDeliveryConfigurations:
    type: array
    items:
      $ref: "#/types/aws:elasticache/ClusterLogDeliveryConfiguration:ClusterLogDeliveryConfiguration"
    description: |
      Specifies the destination and format of Redis [SLOWLOG](https://redis.io/commands/slowlog) or Redis [Engine Log](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Log_Delivery.html#Log_contents-engine-log). See the documentation on [Amazon ElastiCache](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Log_Delivery.html). See Log Delivery Configuration below for more details.
  maintenanceWindow:
    type: string
    description: |
      Specifies the weekly time range for when maintenance
      on the cache cluster is performed. The format is `ddd:hh24:mi-ddd:hh24:mi` (24H Clock UTC).
      The minimum maintenance window is a 60 minute period. Example: `sun:05:00-sun:09:00`.
  nodeType:
    type: string
    description: |
      The instance class used. See AWS documentation for information on [supported node types for Redis](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/CacheNodes.SupportedTypes.html) and [guidance on selecting node types for Redis](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/nodes-select-size.html). See AWS documentation for information on [supported node types for Memcached](https://docs.aws.amazon.com/AmazonElastiCache/latest/mem-ug/CacheNodes.SupportedTypes.html) and [guidance on selecting node types for Memcached](https://docs.aws.amazon.com/AmazonElastiCache/latest/mem-ug/nodes-select-size.html). For Memcached, changing this value will re-create the resource.
  notificationTopicArn:
    type: string
    description: |
      ARN of an SNS topic to send ElastiCache notifications to. Example: `arn:aws:sns:us-east-1:012345678999:my_sns_topic`.
  numCacheNodes:
    type: integer
    description: |
      The initial number of cache nodes that the cache cluster will have. For Redis, this value must be 1. For Memcached, this value must be between 1 and 40. If this number is reduced on subsequent runs, the highest numbered nodes will be removed.
  parameterGroupName:
    type: string
    description: |
      The name of the parameter group to associate with this cache cluster.
  port:
    type: integer
    description: |
      The port number on which each of the cache nodes will accept connections. For Memcached the default is 11211, and for Redis the default port is 6379. Cannot be provided with `replication_group_id`. Changing this value will re-create the resource.
  preferredAvailabilityZones:
    type: array
    items:
      type: string
    description: |
      List of the Availability Zones in which cache nodes are created. If you are creating your cluster in an Amazon VPC you can only locate nodes in Availability Zones that are associated with the subnets in the selected subnet group. The number of Availability Zones listed must equal the value of `num_cache_nodes`. If you want all the nodes in the same Availability Zone, use `availability_zone` instead, or repeat the Availability Zone multiple times in the list. Default: System chosen Availability Zones. Detecting drift of existing node availability zone is not currently supported. Updating this argument by itself to migrate existing node availability zones is not currently supported and will show a perpetual difference.
  replicationGroupId:
    type: string
    description: |
      ID of the replication group to which this cluster should belong. If this parameter is specified, the cluster is added to the specified replication group as a read replica; otherwise, the cluster is a standalone primary that is not part of any replication group.
  securityGroupIds:
    type: array
    items:
      type: string
    description: |
      One or more VPC security groups associated with the cache cluster
  securityGroupNames:
    type: array
    items:
      type: string
    description: |
      List of security group names to associate with this cache cluster. Changing this value will re-create the resource.
    deprecationMessage: With the retirement of EC2-Classic the security_group_names attribute has been deprecated and will be removed in a future version.
  snapshotArns:
    type: string
    description: |
      Single-element string list containing an Amazon Resource Name (ARN) of a Redis RDB snapshot file stored in Amazon S3. The object name cannot contain any commas. Changing `snapshot_arns` forces a new resource.
  snapshotName:
    type: string
    description: |
      Name of a snapshot from which to restore data into the new node group. Changing `snapshot_name` forces a new resource.
  snapshotRetentionLimit:
    type: integer
    description: |
      Number of days for which ElastiCache will retain automatic cache cluster snapshots before deleting them. For example, if you set SnapshotRetentionLimit to 5, then a snapshot that was taken today will be retained for 5 days before being deleted. If the value of SnapshotRetentionLimit is set to zero (0), backups are turned off. Please note that setting a `snapshot_retention_limit` is not supported on cache.t1.micro cache nodes
  snapshotWindow:
    type: string
    description: |
      Daily time range (in UTC) during which ElastiCache will begin taking a daily snapshot of your cache cluster. Example: 05:00-09:00
  subnetGroupName:
    type: string
    description: |
      Name of the subnet group to be used for the cache cluster. Changing this value will re-create the resource.
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
  tagsAll:
    type: object
    additionalProperties:
      type: string
required:
  - applyImmediately
  - arn
  - availabilityZone
  - azMode
  - cacheNodes
  - clusterAddress
  - clusterId
  - configurationEndpoint
  - engine
  - engineVersion
  - engineVersionActual
  - maintenanceWindow
  - nodeType
  - numCacheNodes
  - parameterGroupName
  - port
  - replicationGroupId
  - securityGroupIds
  - securityGroupNames
  - snapshotWindow
  - subnetGroupName
  - tagsAll
inputProperties:
  applyImmediately:
    type: boolean
    description: |
      Whether any database modifications are applied immediately, or during the next maintenance window. Default is `false`. See [Amazon ElastiCache Documentation for more information.](https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_ModifyCacheCluster.html).
  autoMinorVersionUpgrade:
    type: string
    description: |
      Specifies whether minor version engine upgrades will be applied automatically to the underlying Cache Cluster instances during the maintenance window.
      Only supported for engine type `"redis"` and if the engine version is 6 or higher.
      Defaults to `true`.
  availabilityZone:
    type: string
    description: |
      Availability Zone for the cache cluster. If you want to create cache nodes in multi-az, use `preferred_availability_zones` instead. Default: System chosen Availability Zone. Changing this value will re-create the resource.
    willReplaceOnChanges: true
  azMode:
    type: string
    description: |
      Whether the nodes in this Memcached node group are created in a single Availability Zone or created across multiple Availability Zones in the cluster's region. Valid values for this parameter are `single-az` or `cross-az`, default is `single-az`. If you want to choose `cross-az`, `num_cache_nodes` must be greater than `1`.
  clusterId:
    type: string
    description: |
      Group identifier. ElastiCache converts this name to lowercase. Changing this value will re-create the resource.
    willReplaceOnChanges: true
  engine:
    type: string
    description: |
      Name of the cache engine to be used for this cache cluster. Valid values are `memcached` or `redis`.
    willReplaceOnChanges: true
  engineVersion:
    type: string
    description: |
      Version number of the cache engine to be used.
      If not set, defaults to the latest version.
      See [Describe Cache Engine Versions](https://docs.aws.amazon.com/cli/latest/reference/elasticache/describe-cache-engine-versions.html) in the AWS Documentation for supported versions.
      When `engine` is `redis` and the version is 6 or higher, the major and minor version can be set, e.g., `6.2`,
      or the minor version can be unspecified which will use the latest version at creation time, e.g., `6.x`.
      Otherwise, specify the full version desired, e.g., `5.0.6`.
      The actual engine version used is returned in the attribute `engine_version_actual`, see Attributes Reference below.
  finalSnapshotIdentifier:
    type: string
    description: |
      Name of your final cluster snapshot. If omitted, no final snapshot will be made.
  logDeliveryConfigurations:
    type: array
    items:
      $ref: "#/types/aws:elasticache/ClusterLogDeliveryConfiguration:ClusterLogDeliveryConfiguration"
    description: |
      Specifies the destination and format of Redis [SLOWLOG](https://redis.io/commands/slowlog) or Redis [Engine Log](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Log_Delivery.html#Log_contents-engine-log). See the documentation on [Amazon ElastiCache](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Log_Delivery.html). See Log Delivery Configuration below for more details.
  maintenanceWindow:
    type: string
    description: |
      Specifies the weekly time range for when maintenance
      on the cache cluster is performed. The format is `ddd:hh24:mi-ddd:hh24:mi` (24H Clock UTC).
      The minimum maintenance window is a 60 minute period. Example: `sun:05:00-sun:09:00`.
  nodeType:
    type: string
    description: |
      The instance class used. See AWS documentation for information on [supported node types for Redis](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/CacheNodes.SupportedTypes.html) and [guidance on selecting node types for Redis](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/nodes-select-size.html). See AWS documentation for information on [supported node types for Memcached](https://docs.aws.amazon.com/AmazonElastiCache/latest/mem-ug/CacheNodes.SupportedTypes.html) and [guidance on selecting node types for Memcached](https://docs.aws.amazon.com/AmazonElastiCache/latest/mem-ug/nodes-select-size.html). For Memcached, changing this value will re-create the resource.
  notificationTopicArn:
    type: string
    description: |
      ARN of an SNS topic to send ElastiCache notifications to. Example: `arn:aws:sns:us-east-1:012345678999:my_sns_topic`.
  numCacheNodes:
    type: integer
    description: |
      The initial number of cache nodes that the cache cluster will have. For Redis, this value must be 1. For Memcached, this value must be between 1 and 40. If this number is reduced on subsequent runs, the highest numbered nodes will be removed.
  parameterGroupName:
    type: string
    description: |
      The name of the parameter group to associate with this cache cluster.
  port:
    type: integer
    description: |
      The port number on which each of the cache nodes will accept connections. For Memcached the default is 11211, and for Redis the default port is 6379. Cannot be provided with `replication_group_id`. Changing this value will re-create the resource.
    willReplaceOnChanges: true
  preferredAvailabilityZones:
    type: array
    items:
      type: string
    description: |
      List of the Availability Zones in which cache nodes are created. If you are creating your cluster in an Amazon VPC you can only locate nodes in Availability Zones that are associated with the subnets in the selected subnet group. The number of Availability Zones listed must equal the value of `num_cache_nodes`. If you want all the nodes in the same Availability Zone, use `availability_zone` instead, or repeat the Availability Zone multiple times in the list. Default: System chosen Availability Zones. Detecting drift of existing node availability zone is not currently supported. Updating this argument by itself to migrate existing node availability zones is not currently supported and will show a perpetual difference.
  replicationGroupId:
    type: string
    description: |
      ID of the replication group to which this cluster should belong. If this parameter is specified, the cluster is added to the specified replication group as a read replica; otherwise, the cluster is a standalone primary that is not part of any replication group.
    willReplaceOnChanges: true
  securityGroupIds:
    type: array
    items:
      type: string
    description: |
      One or more VPC security groups associated with the cache cluster
  securityGroupNames:
    type: array
    items:
      type: string
    description: |
      List of security group names to associate with this cache cluster. Changing this value will re-create the resource.
    deprecationMessage: With the retirement of EC2-Classic the security_group_names attribute has been deprecated and will be removed in a future version.
    willReplaceOnChanges: true
  snapshotArns:
    type: string
    description: |
      Single-element string list containing an Amazon Resource Name (ARN) of a Redis RDB snapshot file stored in Amazon S3. The object name cannot contain any commas. Changing `snapshot_arns` forces a new resource.
    willReplaceOnChanges: true
  snapshotName:
    type: string
    description: |
      Name of a snapshot from which to restore data into the new node group. Changing `snapshot_name` forces a new resource.
    willReplaceOnChanges: true
  snapshotRetentionLimit:
    type: integer
    description: |
      Number of days for which ElastiCache will retain automatic cache cluster snapshots before deleting them. For example, if you set SnapshotRetentionLimit to 5, then a snapshot that was taken today will be retained for 5 days before being deleted. If the value of SnapshotRetentionLimit is set to zero (0), backups are turned off. Please note that setting a `snapshot_retention_limit` is not supported on cache.t1.micro cache nodes
  snapshotWindow:
    type: string
    description: |
      Daily time range (in UTC) during which ElastiCache will begin taking a daily snapshot of your cache cluster. Example: 05:00-09:00
  subnetGroupName:
    type: string
    description: |
      Name of the subnet group to be used for the cache cluster. Changing this value will re-create the resource.
    willReplaceOnChanges: true
  tags:
    type: object
    additionalProperties:
      type: string
    description: |
      Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
stateInputs:
  description: |
    Input properties used for looking up and filtering Cluster resources.
  properties:
    applyImmediately:
      type: boolean
      description: |
        Whether any database modifications are applied immediately, or during the next maintenance window. Default is `false`. See [Amazon ElastiCache Documentation for more information.](https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_ModifyCacheCluster.html).
    arn:
      type: string
      description: |
        The ARN of the created ElastiCache Cluster.
    autoMinorVersionUpgrade:
      type: string
      description: |
        Specifies whether minor version engine upgrades will be applied automatically to the underlying Cache Cluster instances during the maintenance window.
        Only supported for engine type `"redis"` and if the engine version is 6 or higher.
        Defaults to `true`.
    availabilityZone:
      type: string
      description: |
        Availability Zone for the cache cluster. If you want to create cache nodes in multi-az, use `preferred_availability_zones` instead. Default: System chosen Availability Zone. Changing this value will re-create the resource.
      willReplaceOnChanges: true
    azMode:
      type: string
      description: |
        Whether the nodes in this Memcached node group are created in a single Availability Zone or created across multiple Availability Zones in the cluster's region. Valid values for this parameter are `single-az` or `cross-az`, default is `single-az`. If you want to choose `cross-az`, `num_cache_nodes` must be greater than `1`.
    cacheNodes:
      type: array
      items:
        $ref: "#/types/aws:elasticache/ClusterCacheNode:ClusterCacheNode"
      description: |
        List of node objects including `id`, `address`, `port` and `availability_zone`.
    clusterAddress:
      type: string
      description: |
        (Memcached only) DNS name of the cache cluster without the port appended.
    clusterId:
      type: string
      description: |
        Group identifier. ElastiCache converts this name to lowercase. Changing this value will re-create the resource.
      willReplaceOnChanges: true
    configurationEndpoint:
      type: string
      description: |
        (Memcached only) Configuration endpoint to allow host discovery.
    engine:
      type: string
      description: |
        Name of the cache engine to be used for this cache cluster. Valid values are `memcached` or `redis`.
      willReplaceOnChanges: true
    engineVersion:
      type: string
      description: |
        Version number of the cache engine to be used.
        If not set, defaults to the latest version.
        See [Describe Cache Engine Versions](https://docs.aws.amazon.com/cli/latest/reference/elasticache/describe-cache-engine-versions.html) in the AWS Documentation for supported versions.
        When `engine` is `redis` and the version is 6 or higher, the major and minor version can be set, e.g., `6.2`,
        or the minor version can be unspecified which will use the latest version at creation time, e.g., `6.x`.
        Otherwise, specify the full version desired, e.g., `5.0.6`.
        The actual engine version used is returned in the attribute `engine_version_actual`, see Attributes Reference below.
    engineVersionActual:
      type: string
      description: |
        Because ElastiCache pulls the latest minor or patch for a version, this attribute returns the running version of the cache engine.
    finalSnapshotIdentifier:
      type: string
      description: |
        Name of your final cluster snapshot. If omitted, no final snapshot will be made.
    logDeliveryConfigurations:
      type: array
      items:
        $ref: "#/types/aws:elasticache/ClusterLogDeliveryConfiguration:ClusterLogDeliveryConfiguration"
      description: |
        Specifies the destination and format of Redis [SLOWLOG](https://redis.io/commands/slowlog) or Redis [Engine Log](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Log_Delivery.html#Log_contents-engine-log). See the documentation on [Amazon ElastiCache](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Log_Delivery.html). See Log Delivery Configuration below for more details.
    maintenanceWindow:
      type: string
      description: |
        Specifies the weekly time range for when maintenance
        on the cache cluster is performed. The format is `ddd:hh24:mi-ddd:hh24:mi` (24H Clock UTC).
        The minimum maintenance window is a 60 minute period. Example: `sun:05:00-sun:09:00`.
    nodeType:
      type: string
      description: |
        The instance class used. See AWS documentation for information on [supported node types for Redis](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/CacheNodes.SupportedTypes.html) and [guidance on selecting node types for Redis](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/nodes-select-size.html). See AWS documentation for information on [supported node types for Memcached](https://docs.aws.amazon.com/AmazonElastiCache/latest/mem-ug/CacheNodes.SupportedTypes.html) and [guidance on selecting node types for Memcached](https://docs.aws.amazon.com/AmazonElastiCache/latest/mem-ug/nodes-select-size.html). For Memcached, changing this value will re-create the resource.
    notificationTopicArn:
      type: string
      description: |
        ARN of an SNS topic to send ElastiCache notifications to. Example: `arn:aws:sns:us-east-1:012345678999:my_sns_topic`.
    numCacheNodes:
      type: integer
      description: |
        The initial number of cache nodes that the cache cluster will have. For Redis, this value must be 1. For Memcached, this value must be between 1 and 40. If this number is reduced on subsequent runs, the highest numbered nodes will be removed.
    parameterGroupName:
      type: string
      description: |
        The name of the parameter group to associate with this cache cluster.
    port:
      type: integer
      description: |
        The port number on which each of the cache nodes will accept connections. For Memcached the default is 11211, and for Redis the default port is 6379. Cannot be provided with `replication_group_id`. Changing this value will re-create the resource.
      willReplaceOnChanges: true
    preferredAvailabilityZones:
      type: array
      items:
        type: string
      description: |
        List of the Availability Zones in which cache nodes are created. If you are creating your cluster in an Amazon VPC you can only locate nodes in Availability Zones that are associated with the subnets in the selected subnet group. The number of Availability Zones listed must equal the value of `num_cache_nodes`. If you want all the nodes in the same Availability Zone, use `availability_zone` instead, or repeat the Availability Zone multiple times in the list. Default: System chosen Availability Zones. Detecting drift of existing node availability zone is not currently supported. Updating this argument by itself to migrate existing node availability zones is not currently supported and will show a perpetual difference.
    replicationGroupId:
      type: string
      description: |
        ID of the replication group to which this cluster should belong. If this parameter is specified, the cluster is added to the specified replication group as a read replica; otherwise, the cluster is a standalone primary that is not part of any replication group.
      willReplaceOnChanges: true
    securityGroupIds:
      type: array
      items:
        type: string
      description: |
        One or more VPC security groups associated with the cache cluster
    securityGroupNames:
      type: array
      items:
        type: string
      description: |
        List of security group names to associate with this cache cluster. Changing this value will re-create the resource.
      deprecationMessage: With the retirement of EC2-Classic the security_group_names attribute has been deprecated and will be removed in a future version.
      willReplaceOnChanges: true
    snapshotArns:
      type: string
      description: |
        Single-element string list containing an Amazon Resource Name (ARN) of a Redis RDB snapshot file stored in Amazon S3. The object name cannot contain any commas. Changing `snapshot_arns` forces a new resource.
      willReplaceOnChanges: true
    snapshotName:
      type: string
      description: |
        Name of a snapshot from which to restore data into the new node group. Changing `snapshot_name` forces a new resource.
      willReplaceOnChanges: true
    snapshotRetentionLimit:
      type: integer
      description: |
        Number of days for which ElastiCache will retain automatic cache cluster snapshots before deleting them. For example, if you set SnapshotRetentionLimit to 5, then a snapshot that was taken today will be retained for 5 days before being deleted. If the value of SnapshotRetentionLimit is set to zero (0), backups are turned off. Please note that setting a `snapshot_retention_limit` is not supported on cache.t1.micro cache nodes
    snapshotWindow:
      type: string
      description: |
        Daily time range (in UTC) during which ElastiCache will begin taking a daily snapshot of your cache cluster. Example: 05:00-09:00
    subnetGroupName:
      type: string
      description: |
        Name of the subnet group to be used for the cache cluster. Changing this value will re-create the resource.
      willReplaceOnChanges: true
    tags:
      type: object
      additionalProperties:
        type: string
      description: |
        Map of tags to assign to the resource. If configured with a provider `default_tags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
    tagsAll:
      type: object
      additionalProperties:
        type: string
  type: object
