$token: azure-native:virtualmachineimages/v20190201preview:VirtualMachineImageTemplate
properties:
  customize:
    type: array
    items:
      oneOf:
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplatePowerShellCustomizerResponse"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateRestartCustomizerResponse"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateShellCustomizerResponse"
      discriminator:
        propertyName: type
        mapping:
          PowerShell: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplatePowerShellCustomizerResponse"
          Shell: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateShellCustomizerResponse"
          WindowsRestart: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateRestartCustomizerResponse"
    description: Specifies the properties used to describe the customization steps of the image, like Image source etc
  distribute:
    type: array
    items:
      oneOf:
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateManagedImageDistributorResponse"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateSharedImageDistributorResponse"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateVhdDistributorResponse"
      discriminator:
        propertyName: type
        mapping:
          ManagedImage: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateManagedImageDistributorResponse"
          SharedImage: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateSharedImageDistributorResponse"
          VHD: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateVhdDistributorResponse"
    description: The distribution targets where the image output needs to go to.
  lastRunStatus:
    type: object
    $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateLastRunStatusResponse"
    description: State of 'run' that is currently executing or was last executed.
  location:
    type: string
    description: Resource location
  name:
    type: string
    description: Resource name
  provisioningError:
    type: object
    $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ProvisioningErrorResponse"
    description: Provisioning error, if any
  provisioningState:
    type: string
    description: Provisioning state of the resource
  source:
    oneOf:
      - type: object
        $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateIsoSourceResponse"
      - type: object
        $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateManagedImageSourceResponse"
      - type: object
        $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplatePlatformImageSourceResponse"
    discriminator:
      propertyName: type
      mapping:
        ISO: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateIsoSourceResponse"
        ManagedImage: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateManagedImageSourceResponse"
        PlatformImage: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplatePlatformImageSourceResponse"
    description: Specifies the properties used to describe the source image.
  tags:
    type: object
    additionalProperties:
      type: string
    description: Resource tags
  type:
    type: string
    description: Resource type
type: object
required:
  - distribute
  - lastRunStatus
  - location
  - name
  - provisioningError
  - provisioningState
  - source
  - type
inputProperties:
  customize:
    type: array
    items:
      oneOf:
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplatePowerShellCustomizer"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateRestartCustomizer"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateShellCustomizer"
      discriminator:
        propertyName: type
        mapping:
          PowerShell: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplatePowerShellCustomizer"
          Shell: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateShellCustomizer"
          WindowsRestart: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateRestartCustomizer"
    description: Specifies the properties used to describe the customization steps of the image, like Image source etc
  distribute:
    type: array
    items:
      oneOf:
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateManagedImageDistributor"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateSharedImageDistributor"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateVhdDistributor"
      discriminator:
        propertyName: type
        mapping:
          ManagedImage: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateManagedImageDistributor"
          SharedImage: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateSharedImageDistributor"
          VHD: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateVhdDistributor"
    description: The distribution targets where the image output needs to go to.
  imageTemplateName:
    type: string
    description: The name of the image Template
  location:
    type: string
    description: Resource location
  resourceGroupName:
    type: string
    description: The name of the resource group.
  source:
    oneOf:
      - type: object
        $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateIsoSource"
      - type: object
        $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateManagedImageSource"
      - type: object
        $ref: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplatePlatformImageSource"
    discriminator:
      propertyName: type
      mapping:
        ISO: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateIsoSource"
        ManagedImage: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplateManagedImageSource"
        PlatformImage: "#/types/azure-native:virtualmachineimages/v20190201preview:ImageTemplatePlatformImageSource"
    description: Specifies the properties used to describe the source image.
  tags:
    type: object
    additionalProperties:
      type: string
    description: Resource tags
requiredInputs:
  - distribute
  - resourceGroupName
  - source
aliases:
  - type: azure-native:virtualmachineimages:VirtualMachineImageTemplate
  - type: azure-native:virtualmachineimages/v20180201preview:VirtualMachineImageTemplate
  - type: azure-native:virtualmachineimages/v20190501preview:VirtualMachineImageTemplate
  - type: azure-native:virtualmachineimages/v20200214:VirtualMachineImageTemplate
  - type: azure-native:virtualmachineimages/v20211001:VirtualMachineImageTemplate
  - type: azure-native:virtualmachineimages/v20220214:VirtualMachineImageTemplate
deprecationMessage: Version 2019-02-01-preview will be removed in v2 of the provider.
