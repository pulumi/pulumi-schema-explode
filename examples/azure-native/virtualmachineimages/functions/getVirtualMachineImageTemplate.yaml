$token: azure-native:virtualmachineimages:getVirtualMachineImageTemplate
description: |-
  Image template is an ARM resource managed by Microsoft.VirtualMachineImages provider
  API Version: 2020-02-14.
inputs:
  properties:
    imageTemplateName:
      type: string
      description: The name of the image Template
    resourceGroupName:
      type: string
      description: The name of the resource group.
  type: object
  required:
    - imageTemplateName
    - resourceGroupName
outputs:
  description: Image template is an ARM resource managed by Microsoft.VirtualMachineImages provider
  properties:
    buildTimeoutInMinutes:
      type: integer
      description: Maximum duration to wait while building the image template. Omit or specify 0 to use the default (4 hours).
      default: 0
    customize:
      type: array
      items:
        oneOf:
          - type: object
            $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateFileCustomizerResponse"
          - type: object
            $ref: "#/types/azure-native:virtualmachineimages:ImageTemplatePowerShellCustomizerResponse"
          - type: object
            $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateRestartCustomizerResponse"
          - type: object
            $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateShellCustomizerResponse"
          - type: object
            $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateWindowsUpdateCustomizerResponse"
        discriminator:
          propertyName: type
          mapping:
            File: "#/types/azure-native:virtualmachineimages:ImageTemplateFileCustomizerResponse"
            PowerShell: "#/types/azure-native:virtualmachineimages:ImageTemplatePowerShellCustomizerResponse"
            Shell: "#/types/azure-native:virtualmachineimages:ImageTemplateShellCustomizerResponse"
            WindowsRestart: "#/types/azure-native:virtualmachineimages:ImageTemplateRestartCustomizerResponse"
            WindowsUpdate: "#/types/azure-native:virtualmachineimages:ImageTemplateWindowsUpdateCustomizerResponse"
      description: Specifies the properties used to describe the customization steps of the image, like Image source etc
    distribute:
      type: array
      items:
        oneOf:
          - type: object
            $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateManagedImageDistributorResponse"
          - type: object
            $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateSharedImageDistributorResponse"
          - type: object
            $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateVhdDistributorResponse"
        discriminator:
          propertyName: type
          mapping:
            ManagedImage: "#/types/azure-native:virtualmachineimages:ImageTemplateManagedImageDistributorResponse"
            SharedImage: "#/types/azure-native:virtualmachineimages:ImageTemplateSharedImageDistributorResponse"
            VHD: "#/types/azure-native:virtualmachineimages:ImageTemplateVhdDistributorResponse"
      description: The distribution targets where the image output needs to go to.
    id:
      type: string
      description: Resource Id
    identity:
      type: object
      $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateIdentityResponse"
      description: The identity of the image template, if configured.
    lastRunStatus:
      type: object
      $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateLastRunStatusResponse"
      description: State of 'run' that is currently executing or was last executed.
    location:
      type: string
      description: Resource location
    name:
      type: string
      description: Resource name
    provisioningError:
      type: object
      $ref: "#/types/azure-native:virtualmachineimages:ProvisioningErrorResponse"
      description: Provisioning error, if any
    provisioningState:
      type: string
      description: Provisioning state of the resource
    source:
      oneOf:
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateManagedImageSourceResponse"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages:ImageTemplatePlatformImageSourceResponse"
        - type: object
          $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateSharedImageVersionSourceResponse"
      discriminator:
        propertyName: type
        mapping:
          ManagedImage: "#/types/azure-native:virtualmachineimages:ImageTemplateManagedImageSourceResponse"
          PlatformImage: "#/types/azure-native:virtualmachineimages:ImageTemplatePlatformImageSourceResponse"
          SharedImageVersion: "#/types/azure-native:virtualmachineimages:ImageTemplateSharedImageVersionSourceResponse"
      description: Specifies the properties used to describe the source image.
    tags:
      type: object
      additionalProperties:
        type: string
      description: Resource tags
    type:
      type: string
      description: Resource type
    vmProfile:
      type: object
      $ref: "#/types/azure-native:virtualmachineimages:ImageTemplateVmProfileResponse"
      description: Describes how virtual machine is set up to build images
  type: object
  required:
    - distribute
    - id
    - identity
    - lastRunStatus
    - location
    - name
    - provisioningError
    - provisioningState
    - source
    - type
